<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"/>

<link rel="stylesheet" href="/css/main.css?v=7.2.0"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.2.0',
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    translation: {
      copy_button: 'å¤åˆ¶',
      copy_success: 'å¤åˆ¶æˆåŠŸ',
      copy_failure: 'å¤åˆ¶å¤±è´¥'
    }
  };
</script>



  <meta property="og:type" content="website">
<meta property="og:title" content="ZDK&#39;s blog">
<meta property="og:url" content="https://github.com/zdkswd/page/6/index.html">
<meta property="og:site_name" content="ZDK&#39;s blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZDK&#39;s blog">



  <link rel="alternate" href="/atom.xml" title="ZDK's blog" type="application/atom+xml"/>



  
  
  <link rel="canonical" href="https://github.com/zdkswd/page/6/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>ZDK's blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ZDK's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>å½’æ¡£</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br/>æœç´¢</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="æœç´¢..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/zdkswd/2019/04/14/featexp/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZDK"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZDK's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/14/featexp/" class="post-title-link" itemprop="url">featexp</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-14 20:15:32 / ä¿®æ”¹æ—¶é—´ï¼š20:15:42" itemprop="dateCreated datePublished" datetime="2019-04-14T20:15:32+08:00">2019-04-14</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çŸ¥è¯†æ€»ç»“/" itemprop="url" rel="index"><span itemprop="name">çŸ¥è¯†æ€»ç»“</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/04/14/featexp/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/14/featexp/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2019/04/14/featexp/" class="post-meta-item leancloud_visitors" data-flag-title="featexp">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          <br/>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="featexp"><a href="#featexp" class="headerlink" title="featexp"></a>featexp</h1><p><a href="https://towardsdatascience.com/my-secret-sauce-to-be-in-top-2-of-a-kaggle-competition-57cff0677d3c" target="_blank" rel="noopener">https://towardsdatascience.com/my-secret-sauce-to-be-in-top-2-of-a-kaggle-competition-57cff0677d3c</a></p>
<h1 id="feature-understanding"><a href="#feature-understanding" class="headerlink" title="feature understanding"></a>feature understanding</h1><p>if target is binary, scatter is not very useful.<br><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%885.41.15.png" alt=""><br>And for continuous target, too many data points make it difficult to understand the target vs. feature trend.</p>
<p><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%885.52.05.png" alt=""><br>use above code,Featexp creates <strong>equal population bins (X-axis)</strong> of a numeric feature.It then calculates targetâ€™s <strong>mean</strong> in each bin and plots it in the left-hand side plot above. As you can see the plot on the right shows they are the same number.<br><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%885.54.45.png" alt=""></p>
<h1 id="Identifying-noisy-features"><a href="#Identifying-noisy-features" class="headerlink" title="Identifying noisy features"></a>Identifying noisy features</h1><p>Noisy features lead to overfitting and identifying them isnâ€™t easy. In featexp, you can pass a test set and compare feature trends in train|test to identify noisy ones. This test set is not the actual test set. Its your local test set|validation set for which you know target.</p>
<blockquote>
<p>get_univariate_plots(data=data_train, target_col=â€™targetâ€™, data_test=data_test, features_list=[â€˜DAYS_EMPLOYEDâ€™])  </p>
</blockquote>
<p><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%886.10.12.png" alt=""><br>Featexp calculates two metrics to display on these plots which help with gauging(è®¡é‡ï¼›æµ‹é‡) noisiness:</p>
<p>1.<strong>Trend correlation</strong> (seen in test plot): If a feature doesnâ€™t hold same trend w.r.t. target across train and evaluation sets, it can lead to overfitting. This happens because the model is learning something which is not applicable in test data. Trend correlation helps understand how similar train/test trends are and mean target values for bins in train &amp; test are used to calculate it. Feature above has 99% correlation. Doesnâ€™t seem noisy!<br>2.<strong>Trend changes</strong>: Sudden and repeated changes in trend direction could imply noisiness. But, such trend change can also happen because that bin has a very different value in terms of <strong>other features</strong> and hence, its value canâ€™t really be compared with other bins.</p>
<p>for example the nosiy feature.<br><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%886.37.26.png" alt=""></p>
<p>Dropping low trend-correlation features works well when <strong>there are a lot of features and they are correlated with each other</strong>. It leads to less overfitting and other correlated features avoid information loss. Itâ€™s also important to <strong>not drop too many important features</strong> as it might lead to a drop in performance. Also, <strong>you canâ€™t identify these noisy features using feature importance</strong> because they could be fairly important and still be very noisy!</p>
<p><strong>Using test data from a different time period works better because then you would be making sure if feature trend holds over time.</strong></p>
<p><strong>get_trend_stats()</strong> function in featexp returns a dataframe with trend correlation and changes for each feature.</p>
<blockquote>
<p>from featexp import get_trend_stats  stats=get_trend_stats(data=data_train,target_col=â€™targetâ€™,data_test=data_test)  </p>
</blockquote>
<p><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%886.54.44.png" alt=""><br> try dropping features with low trend-correlation in our data and see how results improve.<br><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%886.56.50.png" alt=""><br>We can see that higher the trend-correlation threshold to drop features, higher is the leaderboard (LB) AUC.</p>
<h1 id="Feature-Engineering"><a href="#Feature-Engineering" class="headerlink" title="Feature Engineering"></a>Feature Engineering</h1><p>The insights that you get by looking at these plots help with creating better features. Just having a better understanding of data can lead to better feature engineering. But, in addition to this, it can also help you in improving the existing features. Letâ€™s look at another feature EXT_SOURCE_1:<br><img src="/img/media/featexp/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-14%20%E4%B8%8B%E5%8D%887.10.11.png" alt=""></p>
<h1 id="Feature-importance"><a href="#Feature-importance" class="headerlink" title="Feature importance"></a>Feature importance</h1><p>i choose xgboost this part.</p>
<h1 id="Feature-debugging"><a href="#Feature-debugging" class="headerlink" title="Feature debugging"></a>Feature debugging</h1><p>check the trend is or not as you wish.</p>
<h1 id="Leakage-Detection"><a href="#Leakage-Detection" class="headerlink" title="Leakage Detection"></a>Leakage Detection</h1><h1 id="Model-Monitoring"><a href="#Model-Monitoring" class="headerlink" title="Model Monitoring"></a>Model Monitoring</h1>
          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/zdkswd/2019/04/14/ç¾å›¢  ç‰¹å¾æå–/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZDK"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZDK's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/14/ç¾å›¢  ç‰¹å¾æå–/" class="post-title-link" itemprop="url">ç¾å›¢  ç‰¹å¾æå–</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-14 16:33:47 / ä¿®æ”¹æ—¶é—´ï¼š16:33:38" itemprop="dateCreated datePublished" datetime="2019-04-14T16:33:47+08:00">2019-04-14</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çŸ¥è¯†æ€»ç»“/" itemprop="url" rel="index"><span itemprop="name">çŸ¥è¯†æ€»ç»“</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/04/14/ç¾å›¢  ç‰¹å¾æå–/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/14/ç¾å›¢  ç‰¹å¾æå–/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2019/04/14/ç¾å›¢  ç‰¹å¾æå–/" class="post-meta-item leancloud_visitors" data-flag-title="ç¾å›¢  ç‰¹å¾æå–">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          <br/>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ç¾å›¢-ç‰¹å¾æå–"><a href="#ç¾å›¢-ç‰¹å¾æå–" class="headerlink" title="ç¾å›¢  ç‰¹å¾æå–"></a>ç¾å›¢  ç‰¹å¾æå–</h1><p><img src="/img/media/%E7%BE%8E%E5%9B%A2%20%20%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96/WechatIMG77.jpeg" alt=""><br><img src="/img/media/%E7%BE%8E%E5%9B%A2%20%20%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96/WechatIMG76.jpeg" alt=""></p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/zdkswd/2019/04/14/Kaggleç«èµ›æ¡ˆä¾‹ä¸€/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZDK"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZDK's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/14/Kaggleç«èµ›æ¡ˆä¾‹ä¸€/" class="post-title-link" itemprop="url">Kaggleç«èµ›æ¡ˆä¾‹ä¸€</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-14 15:37:47 / ä¿®æ”¹æ—¶é—´ï¼š15:44:26" itemprop="dateCreated datePublished" datetime="2019-04-14T15:37:47+08:00">2019-04-14</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çŸ¥è¯†æ€»ç»“/" itemprop="url" rel="index"><span itemprop="name">çŸ¥è¯†æ€»ç»“</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/04/14/Kaggleç«èµ›æ¡ˆä¾‹ä¸€/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/14/Kaggleç«èµ›æ¡ˆä¾‹ä¸€/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2019/04/14/Kaggleç«èµ›æ¡ˆä¾‹ä¸€/" class="post-meta-item leancloud_visitors" data-flag-title="Kaggleç«èµ›æ¡ˆä¾‹ä¸€">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          <br/>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Kaggle-CrowdFlower"><a href="#Kaggle-CrowdFlower" class="headerlink" title="Kaggle_CrowdFlower"></a>Kaggle_CrowdFlower</h1><p><a href="https://github.com/ChenglongChen/Kaggle_CrowdFlower">GitHub - ChenglongChen/Kaggle_CrowdFlower: 1st Place Solution for Search Results Relevance Competition on Kaggle (https://www.kaggle.com/c/crowdflower-search-relevance)</a><br>1st Place Solution for Search Results Relevance Competition on Kaggle<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/FlowChart.jpg" alt=""><br>é—®é¢˜æè¿°ï¼šæœç´¢ç»“æœç›¸å…³æŒ‘æˆ˜ï¼Œç»™å®šæœç´¢ç»“æœï¼Œæœç´¢å‡ºçš„äº§å“åç§°ï¼Œäº§å“æè¿°ï¼Œå»ºç«‹æ¨¡å‹å»é¢„æµ‹æœç´¢ç»“æœçš„ç›¸å…³å¾—åˆ†ã€‚</p>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>è§£å†³æ–¹æ¡ˆåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šç‰¹å¾å·¥ç¨‹å’Œæ¨¡å‹é›†æˆã€‚</p>
<p>ç‰¹å¾åŒ…æ‹¬ä¸‰éƒ¨åˆ†çš„ç‰¹å¾ï¼š<br>1.è®¡æ•°ç‰¹å¾<br>2.è·ç¦»ç‰¹å¾<br>3.TF-IDFç‰¹å¾</p>
<p>åœ¨ç”Ÿäº§ç‰¹å¾å‰ï¼Œå¯¹æ•°æ®è¿›è¡Œæ‹¼å†™æ£€æŸ¥ï¼ŒåŒä¹‰è¯æ›¿æ¢ï¼Œè¯å¹²æå–æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚æ¨¡å‹é›†æˆåŒ…æ‹¬ä¸¤ä¸ªä¸»è¦çš„æ­¥éª¤ï¼Œé¦–å…ˆï¼Œä½¿ç”¨ä¸åŒç§ï¼Œä¸åŒå‚æ•°è®¾ç½®ï¼Œä¸åŒç‰¹å¾å­é›†å»è®­ç»ƒæ¨¡å‹ã€‚ç„¶åä½¿ç”¨è®­ç»ƒçš„æ¨¡å‹è¿›è¡Œbaggedé›†æˆé€‰æ‹©ã€‚åœ¨è®­ç»ƒé›†ä¸Šä½¿ç”¨äº¤å‰éªŒè¯æ¥è¯„ä¼°è¡¨ç°ã€‚</p>
<h2 id="é¢„å¤„ç†"><a href="#é¢„å¤„ç†" class="headerlink" title="é¢„å¤„ç†"></a>é¢„å¤„ç†</h2><p>è¿›è¡Œäº†å‡ æ­¥å»æ¸…æ´—æ–‡æœ¬ã€‚</p>
<h2 id="å»é™¤HTMLæ ‡ç­¾"><a href="#å»é™¤HTMLæ ‡ç­¾" class="headerlink" title="å»é™¤HTMLæ ‡ç­¾"></a>å»é™¤HTMLæ ‡ç­¾</h2><p>åœ¨å•†å“æè¿°ä¸­å­˜åœ¨htmlæ ‡ç­¾çš„å¹²æ‰°ï¼Œä½¿ç”¨bs4å»é™¤ä¹‹ã€‚</p>
<h2 id="å•è¯æ›¿æ¢"><a href="#å•è¯æ›¿æ¢" class="headerlink" title="å•è¯æ›¿æ¢"></a>å•è¯æ›¿æ¢</h2><p>åœ¨æœç´¢ä¸­ä¼šå‡ºç°è¯ä¹‰ç›¸å…³çš„æœç´¢ï¼Œè¦è€ƒè™‘åˆ°ã€‚<br>1.æ‹¼å†™çº æ­£<br>2.åŒä¹‰è¯æ›¿æ¢<br>3.è¯å¹²æå–</p>
<h2 id="ç‰¹å¾æå–-é€‰æ‹©"><a href="#ç‰¹å¾æå–-é€‰æ‹©" class="headerlink" title="ç‰¹å¾æå–/é€‰æ‹©"></a>ç‰¹å¾æå–/é€‰æ‹©</h2><p>$$\left(q_{i}, t_{i}, d_{i}\right)$$æ˜¯train.csvä»¥åŠtest.csvä¸­çš„ç¬¬iä¸ªæ ·æœ¬ï¼Œqiæ˜¯æŸ¥è¯¢ï¼Œtiæ˜¯äº§å“åï¼Œdiæ˜¯äº§å“æè¿°ã€‚ä½¿ç”¨riå’Œviæ¥è¡¨ç¤º<strong>median_relevance</strong>å’Œ<strong>relevance_variance</strong>ã€‚ä½¿ç”¨å‡½æ•°ngram(s,n)å»æå–å¥å­ä¸­çš„nä¸ªè¯ã€‚ä¾‹å¦‚<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%883.09.02.png" alt=""></p>
<h3 id="è®¡æ•°ç‰¹å¾"><a href="#è®¡æ•°ç‰¹å¾" class="headerlink" title="è®¡æ•°ç‰¹å¾"></a>è®¡æ•°ç‰¹å¾</h3><p>ä¸º$$\left{q_{i}, t_{i}, d_{i}\right}$$ç”Ÿæˆè®¡æ•°ç‰¹å¾ã€‚</p>
<h4 id="åŸºç¡€è®¡æ•°ç‰¹å¾"><a href="#åŸºç¡€è®¡æ•°ç‰¹å¾" class="headerlink" title="åŸºç¡€è®¡æ•°ç‰¹å¾"></a>åŸºç¡€è®¡æ•°ç‰¹å¾</h4><p><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%883.17.52.png" alt=""></p>
<h4 id="äº¤å‰è®¡æ•°ç‰¹å¾"><a href="#äº¤å‰è®¡æ•°ç‰¹å¾" class="headerlink" title="äº¤å‰è®¡æ•°ç‰¹å¾"></a>äº¤å‰è®¡æ•°ç‰¹å¾</h4><p><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%883.20.07.png" alt=""></p>
<h4 id="äº¤å‰ä½ç½®ç‰¹å¾"><a href="#äº¤å‰ä½ç½®ç‰¹å¾" class="headerlink" title="äº¤å‰ä½ç½®ç‰¹å¾"></a>äº¤å‰ä½ç½®ç‰¹å¾</h4><p><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%883.23.08.png" alt=""></p>
<h3 id="è·ç¦»ç‰¹å¾"><a href="#è·ç¦»ç‰¹å¾" class="headerlink" title="è·ç¦»ç‰¹å¾"></a>è·ç¦»ç‰¹å¾</h3><p><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%883.24.35.png" alt=""></p>
<h3 id="TF-IDFç‰¹å¾"><a href="#TF-IDFç‰¹å¾" class="headerlink" title="TF-IDFç‰¹å¾"></a>TF-IDFç‰¹å¾</h3><h3 id="å…¶ä»–ç‰¹å¾"><a href="#å…¶ä»–ç‰¹å¾" class="headerlink" title="å…¶ä»–ç‰¹å¾"></a>å…¶ä»–ç‰¹å¾</h3><h4 id="æŸ¥è¯¢ID"><a href="#æŸ¥è¯¢ID" class="headerlink" title="æŸ¥è¯¢ID"></a>æŸ¥è¯¢ID</h4><p>å°†æŸ¥è¯¢idè¿›è¡Œç‹¬çƒ­ç¼–ç ã€‚</p>
<h3 id="ç‰¹å¾é€‰æ‹©"><a href="#ç‰¹å¾é€‰æ‹©" class="headerlink" title="ç‰¹å¾é€‰æ‹©"></a>ç‰¹å¾é€‰æ‹©</h3><p>ç›¸åŒçš„æ¨¡å‹ç»å¸¸è¢«ç”¨æ¥åœ¨ç‰¹å¾é›†ä¸Šè¿›è¡Œäº¤å‰éªŒè¯æ¥æµ‹è¯•ä¸ä¹‹å‰çš„ç‰¹å¾é›†åˆç›¸æ¯”æ˜¯å¦å¾—åˆ†æœ‰æ‰€æå‡ã€‚å¯¹äºé«˜ç»´ç‰¹å¾ï¼Œä½¿ç”¨XGBoost with linear booster(MSEä¸ºç›®æ ‡å‡½æ•°)ï¼Œå¯¹äºä½ç»´ç‰¹å¾ä½¿ç”¨sklearnä¸­çš„ExtraTreesRegressorã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæœ‰äº†é›†æˆé€‰æ‹©(<strong>ensemble selection</strong>)ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸åŒçš„ç‰¹å¾é›†åˆæ¥è®­ç»ƒç‰¹å¾åº“ï¼Œå¹¶ä¸”åˆ©ç”¨é›†æˆé€‰æ‹©å»æŒ‘é€‰å‡ºæœ€ä½³çš„é›†æˆã€‚ä½†æ˜¯ç‰¹å¾é€‰æ‹©ä¾æ—§æœ‰ç”¨ã€‚ä½¿ç”¨ä¸Šè¿°çš„ç‰¹å¾é€‰æ‹©ï¼Œå¯ä»¥é¦–å…ˆæ˜ç¡®ä¸€äº›è¡¨ç°å¥½çš„ç‰¹å¾é›†åˆï¼Œç„¶åä½¿ç”¨å…¶å»è®­ç»ƒæ¨¡å‹ï¼Œè¿™ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘è®¡ç®—è´Ÿæ‹…ã€‚</p>
<h2 id="æ¨¡å‹æŠ€æœ¯å’Œè®­ç»ƒ"><a href="#æ¨¡å‹æŠ€æœ¯å’Œè®­ç»ƒ" class="headerlink" title="æ¨¡å‹æŠ€æœ¯å’Œè®­ç»ƒ"></a>æ¨¡å‹æŠ€æœ¯å’Œè®­ç»ƒ</h2><h3 id="äº¤å‰éªŒè¯æ–¹æ³•å­¦"><a href="#äº¤å‰éªŒè¯æ–¹æ³•å­¦" class="headerlink" title="äº¤å‰éªŒè¯æ–¹æ³•å­¦"></a>äº¤å‰éªŒè¯æ–¹æ³•å­¦</h3><h4 id="åˆ’åˆ†"><a href="#åˆ’åˆ†" class="headerlink" title="åˆ’åˆ†"></a>åˆ’åˆ†</h4><p>StratifiedKFold</p>
<h1 id="Kaggle-HomeDepot"><a href="#Kaggle-HomeDepot" class="headerlink" title="Kaggle_HomeDepot"></a>Kaggle_HomeDepot</h1><p><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/FlowChart%202.jpg" alt=""></p>
<h1 id="Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹"><a href="#Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹" class="headerlink" title="Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹"></a>Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹</h1><p>æ¯”èµ›åœ°å€<a href="https://www.kaggle.com/c/competitive-data-science-predict-future-sales/data" target="_blank" rel="noopener">Predict Future Sales | Kaggle</a><br>è¿™ä¸ªæ¯”èµ›ä½œä¸ºç»å…¸çš„æ—¶é—´åºåˆ—é—®é¢˜ä¹‹ä¸€ï¼Œç›®æ ‡æ˜¯ä¸ºäº†é¢„æµ‹ä¸‹ä¸ªæœˆæ¯ç§äº§å“å’Œå•†åº—çš„æ€»é”€å”®é¢ã€‚</p>
<p>ä»¥ä¸‹ä¸º<strong>1st solution</strong>ã€‚</p>
<h2 id="part1-hands-on-data"><a href="#part1-hands-on-data" class="headerlink" title="part1 hands on data"></a>part1 hands on data</h2><p><a href="https://www.kaggle.com/kyakovlev/1st-place-solution-part-1-hands-on-data/notebook" target="_blank" rel="noopener">https://www.kaggle.com/kyakovlev/1st-place-solution-part-1-hands-on-data/notebook</a></p>
<h3 id="æ•°æ®åŸŸå«ä¹‰"><a href="#æ•°æ®åŸŸå«ä¹‰" class="headerlink" title="æ•°æ®åŸŸå«ä¹‰"></a>æ•°æ®åŸŸå«ä¹‰</h3><p><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%888.55.03.png" alt=""><br>æ•°æ®é›†æƒ…å†µï¼š<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%889.04.04.png" alt=""></p>
<p><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%889.04.46.png" alt=""></p>
<h3 id="trick1"><a href="#trick1" class="headerlink" title="trick1"></a>trick1</h3><p><strong>downcasting DataFrame.</strong> It will save some memory, everyone will need all memory possible.</p>
<p>In this case from 134.4MB to 61.6 MB</p>
<h3 id="trick2"><a href="#trick2" class="headerlink" title="trick2"></a>trick2</h3><p>pd.pivot_table()é€è§†è¡¨åŠŸèƒ½<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-12%20%E4%B8%8B%E5%8D%888.52.35.png" alt=""></p>
<h3 id="trick3"><a href="#trick3" class="headerlink" title="trick3"></a>trick3</h3><p>åˆ©ç”¨å›¾åƒå»é™¤æç«¯å€¼<br>ä½¿ç”¨<strong>seaborn</strong>ã€‚boxplot</p>
<h3 id="item-id"><a href="#item-id" class="headerlink" title="item_id"></a>item_id</h3><p>ä»¥item_idä¸ºç´¢å¼•ï¼Œæœˆä»½ä¸ºåˆ—åç”Ÿæˆè¡¨æ ¼æ¥è§‚å¯Ÿæ•°æ®ã€‚<br>åˆ†ææ¯ä¸ªæœˆé”€å”®çš„æ€»å’Œçš„è¶‹åŠ¿ã€‚<br>åˆ†ææ¯ä¸ªå¹³å‡ä¸€ä¸ªå•†å“é”€å”®çš„è¶‹åŠ¿ï¼ˆå’ŒğŸ‘†è¶‹åŠ¿ä¸€è‡´ï¼‰<br>æŸ¥çœ‹æœ‰å¤šå°‘6ä¸ªæœˆæ¥æ²¡æœ‰é”€å”®è®°å½•çš„å•†å“<br>æŸ¥çœ‹æµ‹è¯•æ•°æ®ä¸­æœ‰å¤šå°‘è¿™æ ·è¿‡æœŸçš„å•†å“<br>æŸ¥çœ‹ä»·æ ¼å’Œé”€å”®é¢çš„ç¦»ç¾¤ç‚¹</p>
<p>å¯èƒ½çš„ç‰¹å¾ï¼š</p>
<ol>
<li>æ—¶é—´é—´éš”</li>
<li>å•†å“æ”¾å‡ºçš„æ—¥æœŸ</li>
<li>ä¸Šæœˆçš„é”€å”®</li>
<li>é”€å”®çš„æ—¥æœŸ</li>
<li>ä¸´è¿‘çš„å•†å“ï¼ˆid1000ä¸1001çš„å•†å“å¯èƒ½æœ‰æ‰€ç›¸ä¼¼ï¼‰</li>
</ol>
<h3 id="shop-id"><a href="#shop-id" class="headerlink" title="shop_id"></a>shop_id</h3><p>ä»¥shop_idä¸ºç´¢å¼•ï¼Œæœˆä»½ä¸ºåˆ—åç”Ÿæˆè¡¨æ ¼æ¥è§‚å¯Ÿæ•°æ®ã€‚<br>æŸ¥çœ‹æœ€è¿‘å¼€å¼ çš„å•†åº—æ•°<br>æŸ¥çœ‹æœ€è¿‘å€’é—­çš„å•†åº—æ•°</p>
<p>å¯èƒ½çš„ç‰¹å¾ï¼š</p>
<ol>
<li>æ—¶é—´é—´éš”ï¼ˆshop_id/shp_cnt_mthï¼‰</li>
<li>å¼€ä¸šæœˆä»½ï¼ˆå¯èƒ½çš„å¼€ä¸šä¿ƒé”€æ´»åŠ¨ï¼‰</li>
<li>å€’é—­æœˆä»½ï¼ˆå¯èƒ½çš„æ¸…ä»“å¤§ç”©å–ï¼‰<h3 id="price"><a href="#price" class="headerlink" title="price"></a>price</h3>å¯èƒ½çš„ç‰¹å¾ï¼š</li>
<li>ä»·æ ¼åˆ†æ¡£ï¼ˆ1/10/20/ç­‰ç­‰ï¼‰ï¼Œæ˜¾ç„¶ï¼Œæ›´ä½ä»·çš„ç‰©å“æ‹¥æœ‰ç€æ›´å¤§çš„é”€é‡ã€‚</li>
<li>æ‰“æŠ˜å’Œæ‰“æŠ˜æœŸé—´</li>
<li>ä»·æ ¼çš„æ—¶é—´é—´éš”ï¼ˆæ˜¾ç¤ºæ‰“æŠ˜ï¼‰</li>
<li>ä»·æ ¼ä¿®æ­£</li>
<li>åº—é“ºçš„æ”¶å…¥<h3 id="dates"><a href="#dates" class="headerlink" title="dates"></a>dates</h3>å¯èƒ½çš„æ—¥æœŸç‰¹å¾ï¼š</li>
<li>å‘¨æœ«å’Œå‡æœŸçš„é”€å”®é¢ï¼ˆå»ä¿®æ­£æœˆåº¦çš„é”€å”®ï¼‰</li>
<li>è¯¥æœˆæœ‰å‡ å¤©ï¼ˆå»ä¿®æ­£æœˆåº¦çš„é”€å”®ï¼‰</li>
<li>æ˜¯ç¬¬å‡ ä¸ªæœˆï¼ˆä¸å­£èŠ‚æ€§çš„ç‰©å“æœ‰å…³ï¼‰</li>
</ol>
<h3 id="shop-info"><a href="#shop-info" class="headerlink" title="shop info"></a>shop info</h3><p>shop city | shop type | shop name</p>
<p>å¯èƒ½çš„å•†åº—ç‰¹å¾ï¼š</p>
<ol>
<li>shop city</li>
<li>shop type</li>
</ol>
<h3 id="items-csv"><a href="#items-csv" class="headerlink" title="items.csv"></a>items.csv</h3><p>ä»items.csvä¸­æŒ–æ˜ç‰¹å¾<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-13%20%E4%B8%8B%E5%8D%883.18.54.png" alt=""><br>å¯èƒ½çš„ç‰¹å¾ï¼Œ1.item name 2.Encoded aditional feature</p>
<h3 id="category-csv"><a href="#category-csv" class="headerlink" title="category.csv"></a>category.csv</h3><p>category.csvä¸­æ»¡è¶³çš„æ ¼å¼<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-13%20%E4%B8%8B%E5%8D%883.25.09.png" alt=""><br>å¯èƒ½çš„ç§ç±»ç‰¹å¾ï¼š</p>
<ol>
<li>éƒ¨åˆ†</li>
<li>ä¸»è¦ç§ç±»çš„åå­—</li>
<li>ä¸»è¦å­ç§ç±»çš„åå­—</li>
<li>ç¬¬äºŒå­ç§ç±»çš„åå­—</li>
</ol>
<h3 id="test-set"><a href="#test-set" class="headerlink" title="test set"></a>test set</h3><p>å¯¹æµ‹è¯•æ•°æ®é›†è¿›è¡Œåˆ†æ<br>å°†æµ‹è¯•æ¡ç›®åˆ†ä¸ºä¸‰ç»„ï¼š</p>
<ol>
<li>Item/shop pairs that are in train</li>
<li>Items without any data</li>
<li>Items that are in train</li>
</ol>
<h1 id="Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹-1"><a href="#Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹-1" class="headerlink" title="Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹"></a>Kaggleâ€”â€”é”€å”®é‡é¢„æµ‹</h1><p>æ²¡æœ‰çœ‹é”™ï¼Œæ¥ä¸‹æ¥æ˜¯å¦ä¸€ä¸ªsolution<br>ä¸»è¦æ˜¯Feature Engineeringï¼ŒXGBoost<br><a href="https://www.kaggle.com/dlarionov/feature-engineering-xgboost" target="_blank" rel="noopener">https://www.kaggle.com/dlarionov/feature-engineering-xgboost</a></p>
<h2 id="part1-ï¼Œperfect-features"><a href="#part1-ï¼Œperfect-features" class="headerlink" title="part1 ï¼Œperfect features"></a>part1 ï¼Œperfect features</h2><p>åŒæ ·ä½¿ç”¨sns æ˜¾ç¤ºåï¼Œå»é™¤ç¦»ç¾¤ç‚¹<br>å…¶ä¸­æœ‰ä¸€ä¸ªç‰©å“çš„ä»·æ ¼æ˜¯è´Ÿï¼Œä½¿ç”¨ä»·æ ¼ä¸­ä½æ•°æ¥æ›¿æ¢ä¹‹ã€‚<br>æ ¹æ®åå­—æ¥çœ‹æœ‰äº›å•†åº—idé‡å¤å‡ºç°äº†ï¼Œfix itã€‚<br>å¯¹äºå•†åº—ï¼Œç§ç±»ï¼Œç‰©å“è¿›è¡Œé¢„å¤„ç†</p>
<h3 id="Monthly-sales"><a href="#Monthly-sales" class="headerlink" title="Monthly sales"></a>Monthly sales</h3><p>æ–°å¢ç‰¹å¾revenueï¼š<br>train[â€˜revenueâ€™] = train[â€˜item_priceâ€™] *  train[â€˜item_cnt_dayâ€™]</p>
<p>æµ‹è¯•é›†æ˜¯34ä¸ªæœˆä¸­ä¸€äº›å•†åº—å’Œä¸€äº›ç‰©å“çš„ç»„åˆï¼Œå…±æœ‰5100 items * 42 shops = 2142400å¯¹ç»„åˆã€‚363ä¸ªç‰©å“åœ¨è®­ç»ƒé›†ä¸­æ˜¯æ²¡æœ‰çš„ã€‚å› æ­¤ï¼Œå¯¹äºå¤§å¤šæ•°æµ‹è¯•é›†ä¸­çš„ç‰©å“ç›®æ ‡å€¼åº”è¯¥æ˜¯0.å¦ä¸€ä¸ªæ–¹é¢ï¼Œè®­ç»ƒé›†åªåŒ…å«è¿‡å»å”®å‡ºæˆ–è€…é€€å›çš„å¯¹ã€‚ä¸»è¦çš„æ€è·¯æ˜¯è®¡ç®—æœˆåº¦çš„é”€å”®å°†å…¶åœ¨å½“æœˆçš„å¯¹ä¸­ç”¨0å€¼è¿›è¡Œæ‰©å±•ã€‚è¿™æ ·è®­ç»ƒæ•°æ®å°†ä¼šä¸æµ‹è¯•æ•°æ®ç›¸ä¼¼ã€‚</p>
<p>å°†è®­ç»ƒé›†ä¸­çš„ shop/itemå¯¹å»èšåˆå»è®¡ç®—ç›®æ ‡èšåˆï¼Œç„¶åå°†ç›®æ ‡å€¼æˆªå–ä¸ºï¼ˆ0ï¼Œ20ï¼‰ï¼Œè¿™æ ·è®­ç»ƒç›®æ ‡å€¼å°†ä¼šä¸æµ‹è¯•é¢„æµ‹ç›¸ä¼¼ã€‚</p>
<h3 id="æµ‹è¯•é›†"><a href="#æµ‹è¯•é›†" class="headerlink" title="æµ‹è¯•é›†"></a>æµ‹è¯•é›†</h3><p>å°†æµ‹è¯•é›†çš„æœˆä»½è®¾ç½®ä¸º34ï¼Œå¹¶ä¸è®­ç»ƒé›†è¿›è¡Œåˆå¹¶</p>
<h3 id="Shops-Items-Cats-features"><a href="#Shops-Items-Cats-features" class="headerlink" title="Shops/Items/Cats features"></a>Shops/Items/Cats features</h3><p>å°†shopï¼Œitemï¼Œitem_categoryè¡¨è¿›è¡Œåˆå¹¶</p>
<h3 id="Traget-lags"><a href="#Traget-lags" class="headerlink" title="Traget lags"></a>Traget lags</h3><p>ç›¸å½“äºå°†çª—å£ç§»åŠ¨ï¼Œ[0,33]ï¼Œlagsä¸º1åˆ™ä¸º[1,33]</p>
<h3 id="å‡å€¼ç¼–ç ç‰¹å¾"><a href="#å‡å€¼ç¼–ç ç‰¹å¾" class="headerlink" title="å‡å€¼ç¼–ç ç‰¹å¾"></a>å‡å€¼ç¼–ç ç‰¹å¾</h3><p>è¡¨æ ¼çš„ç‰¹å¾çš„å‘½åå½¢å¼ä¸º  feature1_feature2_avg_feature_cnt<br>æ„æ€ä¸ºé€‰å®šfeature1,feature2,æ¥èšåˆfeature_cntæ±‚å‡å€¼ã€‚<br>æ±‚æ¯ä¸ªæœˆä¸­ç‰©å“å”®å‡ºçš„å‡å€¼æ•° 0.3å·¦å³<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-13%20%E4%B8%8B%E5%8D%888.09.49.png" alt=""></p>
<p>æ±‚æ¯ä¸ªæœˆä¸­æ¯ä¸ªç‰©å“æ‰€å¯¹åº”çš„å‡å€¼ï¼ˆå¯ä»¥ç†è§£ä¸ºå¹³å‡æ¯å®¶å•†åº—å”®å‡ºçš„å€¼ï¼‰<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-13%20%E4%B8%8B%E5%8D%888.11.42.png" alt=""></p>
<p>é€‰å®šdate_block_numï¼Œshop_idï¼Œåœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœˆä¸€å®¶åº—é”€å”®ç‰©å“æ•°é‡çš„å‡å€¼æ•°<br><img src="/img/media/Kaggle%E7%AB%9E%E8%B5%9B%E6%A1%88%E4%BE%8B%E4%B8%80/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-13%20%E4%B8%8B%E5%8D%888.27.11.png" alt=""></p>
<p>åŒç†è¿˜æœ‰ï¼š<br>é€‰å®šdate_block_numï¼Œitem_category_idï¼Œåœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>é€‰å®šdate_block_numï¼Œitem_category_idï¼Œshop_idï¼Œåœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>é€‰å®šdate_block_numï¼Œtype_codeï¼Œshop_idï¼Œåœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>é€‰å®šdate_block_numï¼Œsubtype_codeï¼Œshop_idï¼Œåœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>é€‰å®šdate_block_numï¼Œcity_codeï¼Œåœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>é€‰å®šdate_block_numï¼Œcity_codeï¼Œitem_id åœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>é€‰å®šdate_block_numï¼Œtype_code åœ¨item_cnt_monthèšåˆæ±‚å‡å€¼<br>é€‰å®šdate_block_numï¼Œsubtype_code åœ¨item_cnt_monthèšåˆæ±‚å‡å€¼</p>
<h3 id="trend-features"><a href="#trend-features" class="headerlink" title="trend features"></a>trend features</h3><p>ä¸Šå…­ä¸ªæœˆçš„ä»·æ ¼è¶‹åŠ¿ã€‚<br>ä¸Šä¸ªæœˆçš„å•†åº—çš„è¥æ”¶è¶‹åŠ¿ã€‚</p>
<h3 id="Special-features"><a href="#Special-features" class="headerlink" title="Special features"></a>Special features</h3><p>å°†æœˆä»½ä¸­æ·»åŠ ä¸Šå¤©æ•°</p>
<p>å¯¹äºæ¯ä¸ªshop/itemå¯¹ä¸Šä¸€ç¬”é”€å”®çš„æœˆï¼Œä½¿ç”¨ç¼–ç¨‹æ–¹æ³•å®ç°ï¼š<br>åˆ›å»ºHashTableé”®å€¼ç­‰äº{shop_id,item_id},å€¼ç­‰äºdate_block_numã€‚å¯¹äºæ•°æ®è¡¨ä»ä¸Šå¾€ä¸‹è¿­ä»£ã€‚å¦‚æœ{row.shop_id,row.item_id}ä¸åœ¨è¡¨ä¸­ï¼Œåˆ™æ·»åŠ è¿›è¡¨ä¸­ï¼Œå¹¶å°†å€¼è®¾ä¸ºrow.date_block_numã€‚å¦‚æœHashTableä¸­åŒ…å«å€¼ï¼Œåˆ™è®¡ç®—cached valueä¸row.date_block_numã€‚</p>
<p>Months since the first sale for each shop/item pair and for item only.</p>
<h3 id="æœ€ç»ˆå‡†å¤‡"><a href="#æœ€ç»ˆå‡†å¤‡" class="headerlink" title="æœ€ç»ˆå‡†å¤‡"></a>æœ€ç»ˆå‡†å¤‡</h3><p>Because of the using 12 as lag value drop first 12 months. Also drop all the columns with this month calculated values (other words which can not be calcucated for the test set).</p>
<p>Producing lags brings a lot of nulls.</p>
<h2 id="part2-xgboost"><a href="#part2-xgboost" class="headerlink" title="part2 ,xgboost"></a>part2 ,xgboost</h2>
          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/zdkswd/2019/04/14/XGBoostè°ƒå‚/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZDK"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZDK's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/14/XGBoostè°ƒå‚/" class="post-title-link" itemprop="url">XGBoostè°ƒå‚</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-14 14:54:47 / ä¿®æ”¹æ—¶é—´ï¼š15:34:58" itemprop="dateCreated datePublished" datetime="2019-04-14T14:54:47+08:00">2019-04-14</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çŸ¥è¯†æ€»ç»“/" itemprop="url" rel="index"><span itemprop="name">çŸ¥è¯†æ€»ç»“</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/04/14/XGBoostè°ƒå‚/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/14/XGBoostè°ƒå‚/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2019/04/14/XGBoostè°ƒå‚/" class="post-meta-item leancloud_visitors" data-flag-title="XGBoostè°ƒå‚">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          <br/>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="XGBoostè°ƒå‚"><a href="#XGBoostè°ƒå‚" class="headerlink" title="XGBoostè°ƒå‚"></a>XGBoostè°ƒå‚</h1><p><a href="https://www.cnblogs.com/mfryf/p/6293814.html" target="_blank" rel="noopener">XGBoostå‚æ•°è°ƒä¼˜å®Œå…¨æŒ‡å—ï¼ˆé™„Pythonä»£ç ï¼‰ - çŸ¥è¯†å¤©åœ° - åšå®¢å›­</a></p>
<h1 id="XGBoostçš„ä¼˜åŠ¿"><a href="#XGBoostçš„ä¼˜åŠ¿" class="headerlink" title="XGBoostçš„ä¼˜åŠ¿"></a>XGBoostçš„ä¼˜åŠ¿</h1><ol>
<li><strong>æ­£åˆ™åŒ–</strong>ï¼Œæ ‡å‡†GBMçš„å®ç°æ²¡æœ‰åƒXGBoostè¿™æ ·çš„æ­£åˆ™åŒ–æ­¥éª¤ã€‚æ­£åˆ™åŒ–å¯¹å‡å°‘è¿‡æ‹Ÿåˆä¹Ÿæ˜¯æœ‰å¸®åŠ©çš„ã€‚</li>
<li><strong>å¹¶è¡Œå¤„ç†</strong>ï¼ŒXGBoostå¯ä»¥å®ç°å¹¶è¡Œå¤„ç†ï¼Œç›¸æ¯”GBMæœ‰äº†é€Ÿåº¦çš„é£è·ƒã€‚ä¸»è¦ä¸æ˜¯ç”Ÿæˆæ ‘çš„Boostingé˜¶æ®µï¼Œè€Œæ˜¯è®¡ç®—gainçš„é˜¶æ®µã€‚</li>
<li><strong>é«˜åº¦çš„çµæ´»æ€§</strong>ï¼ŒXGBoost å…è®¸ç”¨æˆ·å®šä¹‰è‡ªå®šä¹‰ä¼˜åŒ–ç›®æ ‡å’Œè¯„ä»·æ ‡å‡† å®ƒå¯¹æ¨¡å‹å¢åŠ äº†ä¸€ä¸ªå…¨æ–°çš„ç»´åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„å¤„ç†ä¸ä¼šå—åˆ°ä»»ä½•é™åˆ¶ã€‚</li>
<li><strong>ç¼ºå¤±å€¼å¤„ç†</strong>ï¼ŒXGBoostå†…ç½®å¤„ç†ç¼ºå¤±å€¼çš„è§„åˆ™ã€‚ ç”¨æˆ·éœ€è¦æä¾›ä¸€ä¸ªå’Œå…¶å®ƒæ ·æœ¬ä¸åŒçš„å€¼ï¼Œç„¶åæŠŠå®ƒä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ è¿›å»ï¼Œä»¥æ­¤æ¥ä½œä¸ºç¼ºå¤±å€¼çš„å–å€¼ã€‚XGBooståœ¨ä¸åŒèŠ‚ç‚¹é‡åˆ°ç¼ºå¤±å€¼æ—¶é‡‡ç”¨ä¸åŒçš„å¤„ç†æ–¹æ³•ï¼Œå¹¶ä¸”ä¼šå­¦ä¹ æœªæ¥é‡åˆ°ç¼ºå¤±å€¼æ—¶çš„å¤„ç†æ–¹æ³•ã€‚</li>
<li><strong>å‰ªæ</strong>ï¼Œå½“åˆ†è£‚æ—¶é‡åˆ°ä¸€ä¸ªè´ŸæŸå¤±æ—¶ï¼ŒGBMä¼šåœæ­¢åˆ†è£‚ã€‚å› æ­¤GBMå®é™…ä¸Šæ˜¯ä¸€ä¸ªè´ªå¿ƒç®—æ³•ã€‚ XGBoostä¼šä¸€ç›´åˆ†è£‚åˆ°æŒ‡å®šçš„æœ€å¤§æ·±åº¦(max_depth)ï¼Œç„¶åå›è¿‡å¤´æ¥å‰ªæã€‚å¦‚æœæŸä¸ªèŠ‚ç‚¹ä¹‹åä¸å†æœ‰æ­£å€¼ï¼Œå®ƒä¼šå»é™¤è¿™ä¸ªåˆ†è£‚ã€‚ è¿™ç§åšæ³•çš„ä¼˜ç‚¹ï¼Œå½“ä¸€ä¸ªè´ŸæŸå¤±ï¼ˆå¦‚-2ï¼‰åé¢æœ‰ä¸ªæ­£æŸå¤±ï¼ˆå¦‚+10ï¼‰çš„æ—¶å€™ï¼Œå°±æ˜¾ç°å‡ºæ¥äº†ã€‚GBMä¼šåœ¨-2å¤„åœä¸‹æ¥ï¼Œå› ä¸ºå®ƒé‡åˆ°äº†ä¸€ä¸ªè´Ÿå€¼ã€‚ä½†æ˜¯XGBoostä¼šç»§ç»­åˆ†è£‚ï¼Œç„¶åå‘ç°è¿™ä¸¤ä¸ªåˆ†è£‚ç»¼åˆèµ·æ¥ä¼šå¾—åˆ°+8ï¼Œå› æ­¤ä¼šä¿ç•™è¿™ä¸¤ä¸ªåˆ†è£‚ã€‚</li>
<li><strong>å†…ç½®äº¤å‰éªŒè¯</strong>ï¼ŒXGBoostå…è®¸åœ¨æ¯ä¸€è½®boostingè¿­ä»£ä¸­ä½¿ç”¨äº¤å‰éªŒè¯ã€‚å› æ­¤ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è·å¾—æœ€ä¼˜boostingè¿­ä»£æ¬¡æ•°ã€‚ è€ŒGBMä½¿ç”¨ç½‘æ ¼æœç´¢ï¼Œåªèƒ½æ£€æµ‹æœ‰é™ä¸ªå€¼ã€‚</li>
<li><strong>åœ¨å·²æœ‰çš„æ¨¡å‹åŸºç¡€ä¸Šç»§ç»­</strong>ï¼ŒXGBoostå¯ä»¥åœ¨ä¸Šä¸€è½®çš„ç»“æœä¸Šç»§ç»­è®­ç»ƒã€‚è¿™ä¸ªç‰¹æ€§åœ¨æŸäº›ç‰¹å®šçš„åº”ç”¨ä¸Šæ˜¯ä¸€ä¸ªå·¨å¤§çš„ä¼˜åŠ¿ã€‚ sklearnä¸­çš„GBMçš„å®ç°ä¹Ÿæœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä¸¤ç§ç®—æ³•åœ¨è¿™ä¸€ç‚¹ä¸Šæ˜¯ä¸€è‡´çš„ã€‚</li>
</ol>
<h1 id="XGBoostçš„å‚æ•°"><a href="#XGBoostçš„å‚æ•°" class="headerlink" title="XGBoostçš„å‚æ•°"></a>XGBoostçš„å‚æ•°</h1><h2 id="é€šç”¨å‚æ•°"><a href="#é€šç”¨å‚æ•°" class="headerlink" title="é€šç”¨å‚æ•°"></a>é€šç”¨å‚æ•°</h2><ol>
<li><strong>booster[é»˜è®¤gbtree]</strong>ï¼Œé€‰æ‹©æ¯æ¬¡è¿­ä»£çš„æ¨¡å‹ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼šgbtreeï¼šåŸºäºæ ‘çš„æ¨¡å‹ï¼Œgblinerï¼šçº¿æ€§æ¨¡å‹ã€‚å°½ç®¡æœ‰ä¸¤ç§boosterå¯ä¾›é€‰æ‹©ï¼Œè¿™é‡Œåªä»‹ç»tree boosterï¼Œå› ä¸ºå®ƒçš„è¡¨ç°è¿œè¿œèƒœè¿‡linear boosterï¼Œæ‰€ä»¥linear boosterå¾ˆå°‘ç”¨åˆ°ã€‚</li>
<li><strong>silent[é»˜è®¤0]</strong>ï¼Œå½“è¿™ä¸ªå‚æ•°å€¼ä¸º1æ—¶ï¼Œé™é»˜æ¨¡å¼å¼€å¯ï¼Œä¸ä¼šè¾“å‡ºä»»ä½•ä¿¡æ¯ã€‚ä¸€èˆ¬è¿™ä¸ªå‚æ•°å°±ä¿æŒé»˜è®¤çš„0ï¼Œå› ä¸ºè¿™æ ·èƒ½å¸®æˆ‘ä»¬æ›´å¥½åœ°ç†è§£æ¨¡å‹ã€‚</li>
<li><strong>nthread[é»˜è®¤å€¼ä¸ºæœ€å¤§å¯èƒ½çš„çº¿ç¨‹æ•°]</strong>ï¼Œè¿™ä¸ªå‚æ•°ç”¨æ¥è¿›è¡Œå¤šçº¿ç¨‹æ§åˆ¶ï¼Œåº”å½“è¾“å…¥ç³»ç»Ÿçš„æ ¸æ•°ã€‚ å¦‚æœä½ å¸Œæœ›ä½¿ç”¨CPUå…¨éƒ¨çš„æ ¸ï¼Œé‚£å°±ä¸è¦è¾“å…¥è¿™ä¸ªå‚æ•°ï¼Œç®—æ³•ä¼šè‡ªåŠ¨æ£€æµ‹å®ƒã€‚<h2 id="boosterå‚æ•°"><a href="#boosterå‚æ•°" class="headerlink" title="boosterå‚æ•°"></a>boosterå‚æ•°</h2></li>
<li><strong>eta[é»˜è®¤0.3]</strong>ï¼Œå’ŒGBMä¸­çš„ learning rate å‚æ•°ç±»ä¼¼ã€‚ é€šè¿‡å‡å°‘æ¯ä¸€æ­¥çš„æƒé‡ï¼Œå¯ä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§ã€‚ å…¸å‹å€¼ä¸º0.01-0.2ã€‚</li>
<li><strong>min_child_weight[é»˜è®¤1]</strong>ï¼Œå†³å®šæœ€å°å¶å­èŠ‚ç‚¹æ ·æœ¬æƒé‡å’Œã€‚ å’ŒGBMçš„ min_child_leaf å‚æ•°ç±»ä¼¼ï¼Œä½†ä¸å®Œå…¨ä¸€æ ·ã€‚XGBoostçš„è¿™ä¸ªå‚æ•°æ˜¯æœ€å°æ ·æœ¬æƒé‡çš„å’Œï¼Œè€ŒGBMå‚æ•°æ˜¯æœ€å°æ ·æœ¬æ€»æ•°ã€‚ è¿™ä¸ªå‚æ•°ç”¨äºé¿å…è¿‡æ‹Ÿåˆã€‚å½“å®ƒçš„å€¼è¾ƒå¤§æ—¶ï¼Œå¯ä»¥é¿å…æ¨¡å‹å­¦ä¹ åˆ°å±€éƒ¨çš„ç‰¹æ®Šæ ·æœ¬ã€‚ ä½†æ˜¯å¦‚æœè¿™ä¸ªå€¼è¿‡é«˜ï¼Œä¼šå¯¼è‡´æ¬ æ‹Ÿåˆã€‚è¿™ä¸ªå‚æ•°éœ€è¦ä½¿ç”¨CV  (cross_validition) æ¥è°ƒæ•´ã€‚</li>
<li><strong>max_depth[é»˜è®¤6]</strong>ï¼Œå’ŒGBMä¸­çš„å‚æ•°ç›¸åŒï¼Œè¿™ä¸ªå€¼ä¸ºæ ‘çš„æœ€å¤§æ·±åº¦ã€‚ è¿™ä¸ªå€¼ä¹Ÿæ˜¯ç”¨æ¥é¿å…è¿‡æ‹Ÿåˆçš„ã€‚max_depthè¶Šå¤§ï¼Œæ¨¡å‹ä¼šå­¦åˆ°æ›´å…·ä½“æ›´å±€éƒ¨çš„æ ·æœ¬ã€‚ éœ€è¦ä½¿ç”¨CVå‡½æ•°æ¥è¿›è¡Œè°ƒä¼˜ã€‚ å…¸å‹å€¼ï¼š3-10</li>
<li><strong>max_leaf_nodes</strong>ï¼Œæ ‘ä¸Šæœ€å¤§çš„èŠ‚ç‚¹æˆ–å¶å­çš„æ•°é‡ã€‚ å¯ä»¥æ›¿ä»£max_depthçš„ä½œç”¨ã€‚å› ä¸ºå¦‚æœç”Ÿæˆçš„æ˜¯äºŒå‰æ ‘ï¼Œä¸€ä¸ªæ·±åº¦ä¸ºnçš„æ ‘æœ€å¤šç”Ÿæˆn2ä¸ªå¶å­ã€‚ å¦‚æœå®šä¹‰äº†è¿™ä¸ªå‚æ•°ï¼ŒGBMä¼šå¿½ç•¥max_depthå‚æ•°ã€‚</li>
<li><strong>gamma[é»˜è®¤0]</strong>ï¼Œåœ¨èŠ‚ç‚¹åˆ†è£‚æ—¶ï¼Œåªæœ‰åˆ†è£‚åæŸå¤±å‡½æ•°çš„å€¼ä¸‹é™äº†ï¼Œæ‰ä¼šåˆ†è£‚è¿™ä¸ªèŠ‚ç‚¹ã€‚GammaæŒ‡å®šäº†èŠ‚ç‚¹åˆ†è£‚æ‰€éœ€çš„æœ€å°æŸå¤±å‡½æ•°ä¸‹é™å€¼ã€‚ è¿™ä¸ªå‚æ•°çš„å€¼è¶Šå¤§ï¼Œç®—æ³•è¶Šä¿å®ˆã€‚è¿™ä¸ªå‚æ•°çš„å€¼å’ŒæŸå¤±å‡½æ•°æ¯æ¯ç›¸å…³ï¼Œæ‰€ä»¥æ˜¯éœ€è¦è°ƒæ•´çš„ã€‚</li>
<li><strong>max_delta_step[é»˜è®¤0]</strong>ï¼Œè¿™å‚æ•°é™åˆ¶æ¯æ£µæ ‘æƒé‡æ”¹å˜çš„æœ€å¤§æ­¥é•¿ã€‚å¦‚æœè¿™ä¸ªå‚æ•°çš„å€¼ä¸º0ï¼Œé‚£å°±æ„å‘³ç€æ²¡æœ‰çº¦æŸã€‚å¦‚æœå®ƒè¢«èµ‹äºˆäº†æŸä¸ªæ­£å€¼ï¼Œé‚£ä¹ˆå®ƒä¼šè®©è¿™ä¸ªç®—æ³•æ›´åŠ ä¿å®ˆã€‚ é€šå¸¸ï¼Œè¿™ä¸ªå‚æ•°ä¸éœ€è¦è®¾ç½®ã€‚ä½†æ˜¯å½“å„ç±»åˆ«çš„æ ·æœ¬ååˆ†ä¸å¹³è¡¡æ—¶ï¼Œå®ƒå¯¹é€»è¾‘å›å½’æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚ è¿™ä¸ªå‚æ•°ä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œä½†æ˜¯ä½ å¯ä»¥æŒ–æ˜å‡ºæ¥å®ƒæ›´å¤šçš„ç”¨å¤„ã€‚</li>
<li><strong>subsample[é»˜è®¤1]</strong>ï¼Œå’ŒGBMä¸­çš„subsampleå‚æ•°ä¸€æ¨¡ä¸€æ ·ã€‚è¿™ä¸ªå‚æ•°æ§åˆ¶å¯¹äºæ¯æ£µæ ‘ï¼Œéšæœºé‡‡æ ·çš„æ¯”ä¾‹ã€‚ å‡å°è¿™ä¸ªå‚æ•°çš„å€¼ï¼Œç®—æ³•ä¼šæ›´åŠ ä¿å®ˆï¼Œé¿å…è¿‡æ‹Ÿåˆã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿™ä¸ªå€¼è®¾ç½®å¾—è¿‡å°ï¼Œå®ƒå¯èƒ½ä¼šå¯¼è‡´æ¬ æ‹Ÿåˆã€‚ å…¸å‹å€¼ï¼š0.5-1</li>
<li><strong>colsample_bytree[é»˜è®¤1]</strong>ï¼Œå’ŒGBMé‡Œé¢çš„max_featureså‚æ•°ç±»ä¼¼ã€‚ç”¨æ¥æ§åˆ¶æ¯æ£µéšæœºé‡‡æ ·çš„åˆ—æ•°çš„å æ¯”(æ¯ä¸€åˆ—æ˜¯ä¸€ä¸ªç‰¹å¾)ã€‚ å…¸å‹å€¼ï¼š0.5-1</li>
<li><strong>colsample_bylevel[é»˜è®¤1]</strong>,ç”¨æ¥æ§åˆ¶æ ‘çš„æ¯ä¸€çº§çš„æ¯ä¸€æ¬¡åˆ†è£‚ï¼Œå¯¹åˆ—æ•°çš„é‡‡æ ·çš„å æ¯”ã€‚ æˆ‘ä¸ªäººä¸€èˆ¬ä¸å¤ªç”¨è¿™ä¸ªå‚æ•°ï¼Œå› ä¸ºsubsampleå‚æ•°å’Œcolsample_bytreeå‚æ•°å¯ä»¥èµ·åˆ°ç›¸åŒçš„ä½œç”¨ã€‚ä½†æ˜¯å¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥æŒ–æ˜è¿™ä¸ªå‚æ•°æ›´å¤šçš„ç”¨å¤„ã€‚</li>
<li><strong>lambda[é»˜è®¤1]</strong>,æƒé‡çš„L2æ­£åˆ™åŒ–é¡¹ã€‚(å’ŒRidge regressionç±»ä¼¼)ã€‚ è¿™ä¸ªå‚æ•°æ˜¯ç”¨æ¥æ§åˆ¶XGBoostçš„æ­£åˆ™åŒ–éƒ¨åˆ†çš„ã€‚è™½ç„¶å¤§éƒ¨åˆ†æ•°æ®ç§‘å­¦å®¶å¾ˆå°‘ç”¨åˆ°è¿™ä¸ªå‚æ•°ï¼Œä½†æ˜¯è¿™ä¸ªå‚æ•°åœ¨å‡å°‘è¿‡æ‹Ÿåˆä¸Šè¿˜æ˜¯å¯ä»¥æŒ–æ˜å‡ºæ›´å¤šç”¨å¤„çš„ã€‚</li>
<li><strong>alpha[é»˜è®¤1]</strong>,æƒé‡çš„L1æ­£åˆ™åŒ–é¡¹ã€‚(å’ŒLasso regressionç±»ä¼¼)ã€‚ å¯ä»¥åº”ç”¨åœ¨å¾ˆé«˜ç»´åº¦çš„æƒ…å†µä¸‹ï¼Œä½¿å¾—ç®—æ³•çš„é€Ÿåº¦æ›´å¿«ã€‚</li>
<li><strong>scale_pos_weight[é»˜è®¤1]</strong>,åœ¨å„ç±»åˆ«æ ·æœ¬ååˆ†ä¸å¹³è¡¡æ—¶ï¼ŒæŠŠè¿™ä¸ªå‚æ•°è®¾å®šä¸ºä¸€ä¸ªæ­£å€¼ï¼Œå¯ä»¥ä½¿ç®—æ³•æ›´å¿«æ”¶æ•›ã€‚</li>
</ol>
<h2 id="å­¦ä¹ ç›®æ ‡å‚æ•°"><a href="#å­¦ä¹ ç›®æ ‡å‚æ•°" class="headerlink" title="å­¦ä¹ ç›®æ ‡å‚æ•°"></a>å­¦ä¹ ç›®æ ‡å‚æ•°</h2><ol>
<li><strong>objective[é»˜è®¤reg:linear]</strong>ï¼Œè¿™ä¸ªå‚æ•°å®šä¹‰éœ€è¦è¢«æœ€å°åŒ–çš„æŸå¤±å‡½æ•°ã€‚æœ€å¸¸ç”¨çš„å€¼æœ‰ï¼šbinary:logistic äºŒåˆ†ç±»çš„é€»è¾‘å›å½’ï¼Œè¿”å›é¢„æµ‹çš„æ¦‚ç‡(ä¸æ˜¯ç±»åˆ«)ã€‚multi:softmax ä½¿ç”¨softmaxçš„å¤šåˆ†ç±»å™¨ï¼Œè¿”å›é¢„æµ‹çš„ç±»åˆ«(ä¸æ˜¯æ¦‚ç‡)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ è¿˜éœ€è¦å¤šè®¾ä¸€ä¸ªå‚æ•°ï¼šnum_class(ç±»åˆ«æ•°ç›®)ã€‚ multi:softprob å’Œmulti:softmaxå‚æ•°ä¸€æ ·ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯æ¯ä¸ªæ•°æ®å±äºå„ä¸ªç±»åˆ«çš„æ¦‚ç‡ã€‚</li>
<li><strong>eval_metric[é»˜è®¤å€¼å–å†³äºobjectiveå‚æ•°çš„å–å€¼]</strong>ï¼Œå¯¹äºæœ‰æ•ˆæ•°æ®çš„åº¦é‡æ–¹æ³•ã€‚ å¯¹äºå›å½’é—®é¢˜ï¼Œé»˜è®¤å€¼æ˜¯rmseï¼Œå¯¹äºåˆ†ç±»é—®é¢˜ï¼Œé»˜è®¤å€¼æ˜¯errorã€‚ å…¸å‹å€¼æœ‰ï¼šrmse å‡æ–¹æ ¹è¯¯å·®ï¼Œmae å¹³å‡ç»å¯¹è¯¯å·®(âˆ‘Ni=1|?|N) logloss è´Ÿå¯¹æ•°ä¼¼ç„¶å‡½æ•°å€¼ error äºŒåˆ†ç±»é”™è¯¯ç‡(é˜ˆå€¼ä¸º0.5) merror å¤šåˆ†ç±»é”™è¯¯ç‡ mlogloss å¤šåˆ†ç±»loglossæŸå¤±å‡½æ•° auc æ›²çº¿ä¸‹é¢ç§¯ã€‚</li>
<li><strong>seed(é»˜è®¤0)</strong>ï¼Œéšæœºæ•°çš„ç§å­ è®¾ç½®å®ƒå¯ä»¥å¤ç°éšæœºæ•°æ®çš„ç»“æœï¼Œä¹Ÿå¯ä»¥ç”¨äºè°ƒæ•´å‚æ•°ã€‚</li>
</ol>
<h1 id="å‚æ•°è°ƒä¼˜çš„ä¸€èˆ¬æ–¹æ³•"><a href="#å‚æ•°è°ƒä¼˜çš„ä¸€èˆ¬æ–¹æ³•" class="headerlink" title="å‚æ•°è°ƒä¼˜çš„ä¸€èˆ¬æ–¹æ³•"></a>å‚æ•°è°ƒä¼˜çš„ä¸€èˆ¬æ–¹æ³•</h1><p>æˆ‘ä»¬ä¼šä½¿ç”¨å’ŒGBMä¸­ç›¸ä¼¼çš„æ–¹æ³•ã€‚éœ€è¦è¿›è¡Œå¦‚ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>é€‰æ‹©è¾ƒé«˜çš„å­¦ä¹ é€Ÿç‡(learning rate)ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå­¦ä¹ é€Ÿç‡çš„å€¼ä¸º0.1ã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸åŒçš„é—®é¢˜ï¼Œç†æƒ³çš„å­¦ä¹ é€Ÿç‡æœ‰æ—¶å€™ä¼šåœ¨0.05åˆ°0.3ä¹‹é—´æ³¢åŠ¨ã€‚é€‰æ‹©å¯¹åº”äºæ­¤å­¦ä¹ é€Ÿç‡çš„ç†æƒ³å†³ç­–æ ‘æ•°é‡ã€‚XGBoostæœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å‡½æ•°â€œcvâ€ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥åœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­ä½¿ç”¨äº¤å‰éªŒè¯ï¼Œå¹¶è¿”å›ç†æƒ³çš„å†³ç­–æ ‘æ•°é‡ã€‚</li>
<li>å¯¹äºç»™å®šçš„å­¦ä¹ é€Ÿç‡å’Œå†³ç­–æ ‘æ•°é‡ï¼Œè¿›è¡Œå†³ç­–æ ‘ç‰¹å®šå‚æ•°è°ƒä¼˜(max_depth, min_child_weight, gamma, subsample, colsample_bytree)ã€‚åœ¨ç¡®å®šä¸€æ£µæ ‘çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒçš„å‚æ•°ã€‚</li>
<li>xgboostçš„æ­£åˆ™åŒ–å‚æ•°çš„è°ƒä¼˜ã€‚(lambda, alpha)ã€‚è¿™äº›å‚æ•°å¯ä»¥é™ä½æ¨¡å‹çš„å¤æ‚åº¦ï¼Œä»è€Œæé«˜æ¨¡å‹çš„è¡¨ç°ã€‚</li>
<li>é™ä½å­¦ä¹ é€Ÿç‡ï¼Œç¡®å®šç†æƒ³å‚æ•°ã€‚<h1 id="ç”¨xgboostæ¨¡å‹å¯¹ç‰¹å¾é‡è¦æ€§è¿›è¡Œæ’åº"><a href="#ç”¨xgboostæ¨¡å‹å¯¹ç‰¹å¾é‡è¦æ€§è¿›è¡Œæ’åº" class="headerlink" title="ç”¨xgboostæ¨¡å‹å¯¹ç‰¹å¾é‡è¦æ€§è¿›è¡Œæ’åº"></a>ç”¨xgboostæ¨¡å‹å¯¹ç‰¹å¾é‡è¦æ€§è¿›è¡Œæ’åº</h1><h2 id="æ¢¯åº¦æå‡ç®—æ³•æ˜¯å¦‚ä½•è®¡ç®—ç‰¹å¾é‡è¦æ€§çš„ï¼Ÿ"><a href="#æ¢¯åº¦æå‡ç®—æ³•æ˜¯å¦‚ä½•è®¡ç®—ç‰¹å¾é‡è¦æ€§çš„ï¼Ÿ" class="headerlink" title="æ¢¯åº¦æå‡ç®—æ³•æ˜¯å¦‚ä½•è®¡ç®—ç‰¹å¾é‡è¦æ€§çš„ï¼Ÿ"></a>æ¢¯åº¦æå‡ç®—æ³•æ˜¯å¦‚ä½•è®¡ç®—ç‰¹å¾é‡è¦æ€§çš„ï¼Ÿ</h2>ä½¿ç”¨æ¢¯åº¦æå‡ç®—æ³•çš„å¥½å¤„æ˜¯åœ¨æå‡æ ‘è¢«åˆ›å»ºåï¼Œå¯ä»¥ç›¸å¯¹ç›´æ¥åœ°å¾—åˆ°æ¯ä¸ªå±æ€§çš„é‡è¦æ€§å¾—åˆ†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé‡è¦æ€§åˆ†æ•°ï¼Œè¡¡é‡äº†ç‰¹å¾åœ¨æ¨¡å‹ä¸­çš„æå‡å†³ç­–æ ‘æ„å»ºä¸­ä»·å€¼ã€‚ä¸€ä¸ªå±æ€§è¶Šå¤šçš„è¢«ç”¨æ¥åœ¨æ¨¡å‹ä¸­æ„å»ºå†³ç­–æ ‘ï¼Œå®ƒçš„é‡è¦æ€§å°±ç›¸å¯¹è¶Šé«˜ã€‚</li>
</ol>
<p>å±æ€§é‡è¦æ€§æ˜¯é€šè¿‡å¯¹æ•°æ®é›†ä¸­çš„æ¯ä¸ªå±æ€§è¿›è¡Œè®¡ç®—ï¼Œå¹¶è¿›è¡Œæ’åºå¾—åˆ°ã€‚åœ¨å•ä¸ªå†³ç­–æ ‘ä¸­é€šè¿‡æ¯ä¸ªå±æ€§åˆ†è£‚ç‚¹æ”¹è¿›æ€§èƒ½åº¦é‡çš„é‡æ¥è®¡ç®—å±æ€§é‡è¦æ€§ï¼Œç”±èŠ‚ç‚¹è´Ÿè´£åŠ æƒå’Œè®°å½•æ¬¡æ•°ã€‚ä¹Ÿå°±è¯´ä¸€ä¸ªå±æ€§å¯¹åˆ†è£‚ç‚¹æ”¹è¿›æ€§èƒ½åº¦é‡è¶Šå¤§ï¼ˆè¶Šé è¿‘æ ¹èŠ‚ç‚¹ï¼‰ï¼Œæƒå€¼è¶Šå¤§ï¼›è¢«è¶Šå¤šæå‡æ ‘æ‰€é€‰æ‹©ï¼Œå±æ€§è¶Šé‡è¦ã€‚æ€§èƒ½åº¦é‡å¯ä»¥æ˜¯é€‰æ‹©åˆ†è£‚èŠ‚ç‚¹çš„Giniçº¯åº¦ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–åº¦é‡å‡½æ•°ã€‚</p>
<p>æœ€ç»ˆå°†ä¸€ä¸ªå±æ€§åœ¨æ‰€æœ‰æå‡æ ‘ä¸­çš„ç»“æœè¿›è¡ŒåŠ æƒæ±‚å’Œåç„¶åå¹³å‡ï¼Œå¾—åˆ°é‡è¦æ€§å¾—åˆ†ã€‚</p>
<h2 id="æ ¹æ®xgboostç‰¹å¾é‡è¦æ€§å¾—åˆ†è¿›è¡Œç‰¹å¾é€‰æ‹©"><a href="#æ ¹æ®xgboostç‰¹å¾é‡è¦æ€§å¾—åˆ†è¿›è¡Œç‰¹å¾é€‰æ‹©" class="headerlink" title="æ ¹æ®xgboostç‰¹å¾é‡è¦æ€§å¾—åˆ†è¿›è¡Œç‰¹å¾é€‰æ‹©"></a>æ ¹æ®xgboostç‰¹å¾é‡è¦æ€§å¾—åˆ†è¿›è¡Œç‰¹å¾é€‰æ‹©</h2><p>ç‰¹å¾é‡è¦æ€§å¾—åˆ†ï¼Œå¯ä»¥ç”¨äºåœ¨scikit-learnä¸­è¿›è¡Œç‰¹å¾é€‰æ‹©ã€‚é€šè¿‡SelectFromModelç±»å®ç°ï¼Œè¯¥ç±»é‡‡ç”¨æ¨¡å‹å¹¶å°†æ•°æ®é›†è½¬æ¢ä¸ºå…·æœ‰é€‰å®šç‰¹å¾çš„å­é›†ã€‚è¿™ä¸ªç±»å¯ä»¥é‡‡å–é¢„å…ˆè®­ç»ƒçš„æ¨¡å‹ï¼Œä¾‹å¦‚åœ¨æ•´ä¸ªæ•°æ®é›†ä¸Šè®­ç»ƒçš„æ¨¡å‹ã€‚ç„¶åï¼Œå®ƒå¯ä»¥é˜ˆå€¼æ¥å†³å®šé€‰æ‹©å“ªäº›ç‰¹å¾ã€‚å½“åœ¨SelectFromModelå®ä¾‹ä¸Šè°ƒç”¨transform()æ–¹æ³•æ—¶ï¼Œè¯¥é˜ˆå€¼è¢«ç”¨äºåœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šä¸€è‡´æ€§é€‰æ‹©ç›¸åŒç‰¹å¾ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>1ã€ä»…ä»…é å‚æ•°çš„è°ƒæ•´å’Œæ¨¡å‹çš„å°å¹…ä¼˜åŒ–ï¼Œæƒ³è¦è®©æ¨¡å‹çš„è¡¨ç°æœ‰ä¸ªå¤§å¹…åº¦æå‡æ˜¯ä¸å¯èƒ½çš„ã€‚GBMçš„æœ€é«˜å¾—åˆ†æ˜¯0.8487ï¼ŒXGBoostçš„æœ€é«˜å¾—åˆ†æ˜¯0.8494ã€‚ç¡®å®æ˜¯æœ‰ä¸€å®šçš„æå‡ï¼Œä½†æ˜¯æ²¡æœ‰è¾¾åˆ°è´¨çš„é£è·ƒã€‚<br>2ã€è¦æƒ³è®©æ¨¡å‹çš„è¡¨ç°æœ‰ä¸€ä¸ªè´¨çš„é£è·ƒï¼Œéœ€è¦ä¾é å…¶ä»–çš„æ‰‹æ®µï¼Œè¯¸å¦‚ï¼Œç‰¹å¾å·¥ç¨‹(feature egineering) ï¼Œæ¨¡å‹ç»„åˆ(ensemble of model),ä»¥åŠå †å (stacking)ç­‰ã€‚</p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/zdkswd/2019/04/09/ç‰¹å¾é€‰æ‹©/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZDK"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZDK's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/09/ç‰¹å¾é€‰æ‹©/" class="post-title-link" itemprop="url">ç‰¹å¾é€‰æ‹©</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-09 10:09:47 / ä¿®æ”¹æ—¶é—´ï¼š10:10:16" itemprop="dateCreated datePublished" datetime="2019-04-09T10:09:47+08:00">2019-04-09</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çŸ¥è¯†æ€»ç»“/" itemprop="url" rel="index"><span itemprop="name">çŸ¥è¯†æ€»ç»“</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/04/09/ç‰¹å¾é€‰æ‹©/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/09/ç‰¹å¾é€‰æ‹©/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2019/04/09/ç‰¹å¾é€‰æ‹©/" class="post-meta-item leancloud_visitors" data-flag-title="ç‰¹å¾é€‰æ‹©">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          <br/>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ç‰¹å¾é€‰æ‹©"><a href="#ç‰¹å¾é€‰æ‹©" class="headerlink" title="ç‰¹å¾é€‰æ‹©"></a>ç‰¹å¾é€‰æ‹©</h1><p>ç‰¹å¾é€‰æ‹©æ˜¯ç‰¹å¾å·¥ç¨‹é‡Œçš„ä¸€ä¸ªé‡è¦é—®é¢˜ï¼Œå…¶ç›®æ ‡æ˜¯å¯»æ‰¾æœ€ä¼˜ç‰¹å¾å­é›†ã€‚ç‰¹å¾é€‰æ‹©çš„ç›®çš„æœ‰å¦‚ä¸‹ä¸‰ä¸ªï¼š</p>
<ol>
<li>ç®€åŒ–æ¨¡å‹ï¼Œä½¿æ¨¡å‹æ›´æ˜“äºç ”ç©¶äººå‘˜å’Œç”¨æˆ·ç†è§£ã€‚</li>
<li>æ”¹å–„æ€§èƒ½ã€‚èŠ‚çœå­˜å‚¨å’Œè®¡ç®—å¼€é”€ã€‚</li>
<li>æ”¹å–„é€šç”¨æ€§ï¼Œé™ä½è¿‡æ‹Ÿåˆçš„é£é™©ã€‚</li>
</ol>
<p>ç‰¹å¾é€‰æ‹©çš„ä¸€èˆ¬æµç¨‹<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/v2-a69a37aaa14a8040b4d867d7058aafe9_hd.jpg" alt=""><br>ä¸»è¦åˆ†ä¸ºäº§ç”Ÿè¿‡ç¨‹ï¼Œè¯„ä¼°è¿‡ç¨‹ï¼Œåœæ­¢æ¡ä»¶å’ŒéªŒè¯è¿‡ç¨‹ã€‚</p>
<p><strong>å½“ç‰¹å¾æ•°é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œ è¿™ä¸ªæœç´¢ç©ºé—´ä¼šå¾ˆå¤§ï¼Œå¦‚ä½•æ‰¾æœ€ä¼˜ç‰¹å¾è¿˜æ˜¯éœ€è¦ä¸€äº›ç»éªŒç»“è®ºã€‚</strong></p>
<h1 id="å…·ä½“ç‰¹å¾é€‰æ‹©æ–¹æ³•"><a href="#å…·ä½“ç‰¹å¾é€‰æ‹©æ–¹æ³•" class="headerlink" title="å…·ä½“ç‰¹å¾é€‰æ‹©æ–¹æ³•"></a>å…·ä½“ç‰¹å¾é€‰æ‹©æ–¹æ³•</h1><p>åˆ†ä¸ºä¸‰å¤§ç±»ï¼š</p>
<ol>
<li>Filterï¼šè¿‡æ»¤æ³•ï¼ŒæŒ‰ç…§å‘æ•£æ€§æˆ–è€…ç›¸å…³æ€§å¯¹å„ä¸ªç‰¹å¾è¿›è¡Œè¯„åˆ†ï¼Œè®¾å®šé˜ˆå€¼æˆ–è€…å¾…é€‰æ‹©é˜ˆå€¼çš„ä¸ªæ•°ï¼Œé€‰æ‹©ç‰¹å¾ã€‚</li>
<li>Wrapperï¼šåŒ…è£…æ³•ï¼Œæ ¹æ®ç›®æ ‡å‡½æ•°ï¼ˆé€šå¸¸æ˜¯é¢„æµ‹æ•ˆæœè¯„åˆ†ï¼‰ï¼Œæ¯æ¬¡é€‰æ‹©è‹¥å¹²ç‰¹å¾ï¼Œæˆ–è€…æ’é™¤è‹¥å¹²ç‰¹å¾ã€‚</li>
<li>Embeddedï¼šåµŒå…¥æ³•ï¼Œå…ˆä½¿ç”¨æŸäº›æœºå™¨å­¦ä¹ çš„ç®—æ³•å’Œæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œå¾—åˆ°å„ä¸ªç‰¹å¾çš„æƒå€¼ç³»æ•°ï¼Œæ ¹æ®ç³»æ•°ä»å¤§åˆ°å°æ’åºé€‰æ‹©ç‰¹å¾ã€‚ç±»ä¼¼äºFilteræ–¹æ³•ï¼Œä½†æ˜¯æ˜¯é€šè¿‡è®­ç»ƒæ¥ç¡®å®šç‰¹å¾çš„ä¼˜åŠ£ã€‚</li>
</ol>
<h2 id="è¿‡æ»¤ç‰¹å¾é€‰æ‹©"><a href="#è¿‡æ»¤ç‰¹å¾é€‰æ‹©" class="headerlink" title="è¿‡æ»¤ç‰¹å¾é€‰æ‹©"></a>è¿‡æ»¤ç‰¹å¾é€‰æ‹©</h2><p>è¿‡æ»¤ç‰¹å¾é€‰æ‹©æ³•çš„æƒ³æ³•æ˜¯é’ˆå¯¹æ¯ä¸ªç‰¹å¾ x_i ï¼Œi ä» 1 åˆ° n ï¼Œè®¡ç®— x_i ç›¸å¯¹äºç±»åˆ«æ ‡ç­¾ y çš„ä¿¡æ¯é‡ S(i) ï¼Œå¾—åˆ° n ä¸ªç»“æœï¼Œç„¶åå°† n ä¸ª S(i) æŒ‰ç…§ä»å¤§åˆ°å°æ’åºï¼Œè¾“å‡ºå‰ k  ä¸ªç‰¹å¾ã€‚æ˜¾ç„¶ï¼Œè¿™æ ·å¤æ‚åº¦å¤§å¤§é™ä½ã€‚é‚£ä¹ˆå…³é”®çš„é—®é¢˜å°±æ˜¯ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ–¹æ³•æ¥åº¦é‡ S(i) ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€‰å–ä¸ y å…³è”æœ€å¯†åˆ‡çš„ä¸€äº› ç‰¹å¾x_i ã€‚</p>
<h3 id="Pearsonç›¸å…³ç³»æ•°"><a href="#Pearsonç›¸å…³ç³»æ•°" class="headerlink" title="Pearsonç›¸å…³ç³»æ•°"></a>Pearsonç›¸å…³ç³»æ•°</h3><p>çš®å°”æ£®ç›¸å…³ç³»æ•°æ˜¯ä¸€ç§æœ€ç®€å•çš„ï¼Œèƒ½å¸®åŠ©ç†è§£ç‰¹å¾å’Œå“åº”å˜é‡ä¹‹é—´å…³ç³»çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¡¡é‡çš„æ˜¯å˜é‡ä¹‹é—´çš„çº¿æ€§ç›¸å…³æ€§ï¼Œç»“æœçš„å–å€¼åŒºé—´ä¸º [-1,1] ï¼Œ -1 è¡¨ç¤ºå®Œå…¨çš„è´Ÿç›¸å…³(è¿™ä¸ªå˜é‡ä¸‹é™ï¼Œé‚£ä¸ªå°±ä¼šä¸Šå‡)ï¼Œ +1 è¡¨ç¤ºå®Œå…¨çš„æ­£ç›¸å…³ï¼Œ 0 è¡¨ç¤ºæ²¡æœ‰çº¿æ€§ç›¸å…³ã€‚Pearson Correlationé€Ÿåº¦å¿«ã€æ˜“äºè®¡ç®—ï¼Œç»å¸¸åœ¨æ‹¿åˆ°æ•°æ®(ç»è¿‡æ¸…æ´—å’Œç‰¹å¾æå–ä¹‹åçš„)ä¹‹åç¬¬ä¸€æ—¶é—´å°±æ‰§è¡Œã€‚Scipyçš„pearsonræ–¹æ³•èƒ½å¤ŸåŒæ—¶è®¡ç®—ç›¸å…³ç³»æ•°å’Œp-valueï¼Œ<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8A%E5%8D%8810.03.30.png" alt=""><br>Pearsonç›¸å…³ç³»æ•°çš„ä¸€ä¸ª<strong>æ˜æ˜¾ç¼ºé™·</strong>æ˜¯ï¼Œä½œä¸ºç‰¹å¾æ’åºæœºåˆ¶ï¼Œä»–åªå¯¹<strong>çº¿æ€§å…³ç³»æ•æ„Ÿ</strong>ã€‚å¦‚æœå…³ç³»æ˜¯éçº¿æ€§çš„ï¼Œå³ä¾¿ä¸¤ä¸ªå˜é‡å…·æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼ŒPearsonç›¸å…³æ€§ä¹Ÿå¯èƒ½ä¼šæ¥è¿‘ 0 ã€‚</p>
<h3 id="å¡æ–¹éªŒè¯"><a href="#å¡æ–¹éªŒè¯" class="headerlink" title="å¡æ–¹éªŒè¯"></a>å¡æ–¹éªŒè¯</h3><p>ä»€ä¹ˆæ˜¯å¡æ–¹æ£€éªŒï¼š<br>å¡æ–¹æ£€éªŒå°±æ˜¯æ£€éªŒä¸¤ä¸ªå˜é‡ä¹‹é—´æœ‰æ²¡æœ‰å…³ç³»ã€‚<br>ä»¥è¿è¥ä¸ºä¾‹:<br>å¡æ–¹æ£€éªŒå¯ä»¥æ£€éªŒç”·æ€§æˆ–è€…å¥³æ€§å¯¹çº¿ä¸Šä¹°ç”Ÿé²œé£Ÿå“æœ‰æ²¡æœ‰åŒºåˆ«ï¼›<br>ä¸åŒåŸå¸‚çº§åˆ«çš„æ¶ˆè´¹è€…å¯¹ä¹°SUVè½¦æœ‰æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼›<br>å¦‚æœæœ‰æ˜¾è‘—åŒºåˆ«çš„è¯ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘æŠŠè¿™äº›å˜é‡æ”¾åˆ°æ¨¡å‹æˆ–è€…åˆ†æé‡Œå»ã€‚</p>
<p>æ³¨æ„ï¼š<strong>å¡æ–¹æ£€éªŒé’ˆå¯¹åˆ†ç±»å˜é‡ã€‚</strong></p>
<p><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8A%E5%8D%8810.42.27.png" alt=""><br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8A%E5%8D%8810.42.41.png" alt=""><br>ç½®ä¿¡åº¦çš„è¯ï¼Œæˆ‘ä»¬æŒ‰ç…§æˆ‘ä»¬è‡ªå·±æ„æ„¿æŒ‘é€‰ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šæŒ‘90ï¼…æˆ–è€…95%ã€‚<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8A%E5%8D%8810.47.39.png" alt=""><br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8A%E5%8D%8810.48.01.png" alt=""><br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8A%E5%8D%8811.00.32.png" alt=""><br>å¡æ–¹æ£€éªŒå°±æ˜¯ç»Ÿè®¡æ ·æœ¬çš„å®é™…è§‚æµ‹å€¼ä¸ç†è®ºæ¨æ–­å€¼ä¹‹é—´çš„åç¦»ç¨‹åº¦ï¼Œå®é™…è§‚æµ‹å€¼ä¸ç†è®ºæ¨æ–­å€¼ä¹‹é—´çš„åç¦»ç¨‹åº¦å°±å†³å®šå¡æ–¹å€¼çš„å¤§å°ï¼Œå¦‚æœå¡æ–¹å€¼è¶Šå¤§ï¼ŒäºŒè€…åå·®ç¨‹åº¦è¶Šå¤§ï¼›åä¹‹ï¼ŒäºŒè€…åå·®è¶Šå°ï¼›è‹¥ä¸¤ä¸ªå€¼å®Œå…¨ç›¸ç­‰æ—¶ï¼Œå¡æ–¹å€¼å°±ä¸º0ï¼Œè¡¨æ˜ç†è®ºå€¼å®Œå…¨ç¬¦åˆã€‚</p>
<p>ä¸éš¾å‘ç°ï¼Œè¿™ä¸ªç»Ÿè®¡é‡çš„å«ä¹‰ç®€è€Œè¨€ä¹‹å°±æ˜¯è‡ªå˜é‡å¯¹å› å˜é‡çš„ç›¸å…³æ€§ã€‚ç”¨sklearnä¸­feature_selectionåº“çš„SelectKBestç±»ç»“åˆå¡æ–¹æ£€éªŒæ¥é€‰æ‹©ç‰¹å¾çš„ä»£ç å¦‚ä¸‹ï¼š<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8A%E5%8D%8810.31.35.png" alt=""><br>sklearn.feature_selectionæ¨¡å—ä¸­çš„ç±»å¯ä»¥ç”¨äºæ ·æœ¬é›†ä¸­çš„ç‰¹å¾é€‰æ‹©/ç»´æ•°é™ä½ï¼Œä»¥æé«˜ä¼°è®¡å™¨çš„å‡†ç¡®åº¦åˆ†æ•°æˆ–æé«˜å…¶åœ¨éå¸¸é«˜ç»´æ•°æ®é›†ä¸Šçš„æ€§èƒ½</p>
<h3 id="äº’ä¿¡æ¯å’Œæœ€å¤§ä¿¡æ¯ç³»æ•°"><a href="#äº’ä¿¡æ¯å’Œæœ€å¤§ä¿¡æ¯ç³»æ•°" class="headerlink" title="äº’ä¿¡æ¯å’Œæœ€å¤§ä¿¡æ¯ç³»æ•°"></a>äº’ä¿¡æ¯å’Œæœ€å¤§ä¿¡æ¯ç³»æ•°</h3><p>ç»å…¸çš„äº’ä¿¡æ¯ä¹Ÿæ˜¯è¯„ä»·å®šæ€§è‡ªå˜é‡å¯¹å®šæ€§å› å˜é‡çš„ç›¸å…³æ€§çš„ï¼Œäº’ä¿¡æ¯å…¬å¼å¦‚ä¸‹ï¼š<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8B%E5%8D%8812.39.16.png" alt=""><br>å½“ x_i æ˜¯0/1ç¦»æ•£å€¼çš„æ—¶å€™ï¼Œè¿™ä¸ªå…¬å¼å¦‚ä¸Šã€‚å¾ˆå®¹æ˜“æ¨å¹¿åˆ° x_i æ˜¯å¤šä¸ªç¦»æ•£å€¼çš„æƒ…å†µã€‚è¿™é‡Œçš„ p(x_i,y) , p(x_i) å’Œ p(y) éƒ½æ˜¯ä»è®­ç»ƒé›†ä¸Šå¾—åˆ°çš„ã€‚<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8B%E5%8D%8812.40.00.png" alt=""><br>MI è¡¡é‡çš„æ˜¯ x_i å’Œ y çš„ç‹¬ç«‹æ€§ã€‚å¦‚æœå®ƒä¿©ç‹¬ç«‹ P(x_i,y)=p(x_i)p(y) ï¼Œé‚£ä¹ˆ KL è·ç¦»å€¼ä¸º0ï¼Œä¹Ÿå°±æ˜¯ x_i å’Œ y ä¸ç›¸å…³äº†ï¼Œå¯ä»¥å»é™¤ x_i ã€‚ç›¸åï¼Œ<strong>å¦‚æœä¸¤è€…å¯†åˆ‡ç›¸å…³ï¼Œé‚£ä¹ˆ MI å€¼ä¼šå¾ˆå¤§ã€‚</strong></p>
<p>åœ¨å¯¹ MI è¿›è¡Œæ’ååï¼Œæœ€åå‰©ä½™çš„é—®é¢˜å°±æ˜¯å¦‚ä½•é€‰æ‹© k ä¸ªå€¼ï¼ˆå‰ k ä¸ª x_i ï¼‰ã€‚æˆ‘ä»¬ç»§ç»­ä½¿ç”¨äº¤å‰éªŒè¯çš„æ–¹æ³•ï¼Œå°† k ä» 1 æ‰«æåˆ° n ï¼Œå–æœ€å¤§çš„ F ã€‚</p>
<p>æƒ³æŠŠäº’ä¿¡æ¯ç›´æ¥ç”¨äºç‰¹å¾é€‰æ‹©å…¶å®ä¸æ˜¯å¤ªæ–¹ä¾¿ï¼š1ã€å®ƒä¸å±äºåº¦é‡æ–¹å¼ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•å½’ä¸€åŒ–ï¼Œåœ¨ä¸åŒæ•°æ®åŠä¸Šçš„ç»“æœæ— æ³•åšæ¯”è¾ƒï¼›2ã€å¯¹äºè¿ç»­å˜é‡çš„è®¡ç®—ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼ˆ X å’Œ Y éƒ½æ˜¯é›†åˆ, x_i, y éƒ½æ˜¯ç¦»æ•£çš„å–å€¼ï¼‰ï¼Œé€šå¸¸å˜é‡éœ€è¦å…ˆç¦»æ•£åŒ–ï¼Œè€Œäº’ä¿¡æ¯çš„ç»“æœå¯¹ç¦»æ•£åŒ–çš„æ–¹å¼å¾ˆæ•æ„Ÿã€‚</p>
<p>æœ€å¤§ä¿¡æ¯ç³»æ•°å…‹æœäº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚å®ƒé¦–å…ˆå¯»æ‰¾ä¸€ç§æœ€ä¼˜çš„ç¦»æ•£åŒ–æ–¹å¼ï¼Œç„¶åæŠŠäº’ä¿¡æ¯å–å€¼è½¬æ¢æˆä¸€ç§åº¦é‡æ–¹å¼ï¼Œå–å€¼åŒºé—´åœ¨ [0,1] ã€‚minepyæä¾›äº†MICåŠŸèƒ½ã€‚</p>
<p> å¦‚y=x^2 è¿™ä¸ªä¾‹å­ï¼ŒMICç®—å‡ºæ¥çš„äº’ä¿¡æ¯å€¼ä¸º1(æœ€å¤§çš„å–å€¼)ã€‚ä»£ç å¦‚ä¸‹ï¼š<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-08%20%E4%B8%8B%E5%8D%8812.50.37.png" alt=""></p>
<h3 id="è·ç¦»ç›¸å…³ç³»æ•°"><a href="#è·ç¦»ç›¸å…³ç³»æ•°" class="headerlink" title="è·ç¦»ç›¸å…³ç³»æ•°"></a>è·ç¦»ç›¸å…³ç³»æ•°</h3><p>è·ç¦»ç›¸å…³ç³»æ•°æ˜¯ä¸ºäº†å…‹æœPearsonç›¸å…³ç³»æ•°çš„å¼±ç‚¹è€Œç”Ÿçš„ã€‚åœ¨ x å’Œ x^2 è¿™ä¸ªä¾‹å­ä¸­ï¼Œå³ä¾¿Pearsonç›¸å…³ç³»æ•°æ˜¯ 0 ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½æ–­å®šè¿™ä¸¤ä¸ªå˜é‡æ˜¯ç‹¬ç«‹çš„ï¼ˆ<strong>æœ‰å¯èƒ½æ˜¯éçº¿æ€§ç›¸å…³</strong>ï¼‰ï¼›ä½†å¦‚æœè·ç¦»ç›¸å…³ç³»æ•°æ˜¯ 0 ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯´è¿™ä¸¤ä¸ªå˜é‡æ˜¯ç‹¬ç«‹çš„ã€‚</p>
<p>å°½ç®¡æœ‰MICå’Œè·ç¦»ç›¸å…³ç³»æ•°åœ¨äº†ï¼Œä½†å½“å˜é‡ä¹‹é—´çš„å…³ç³»æ¥è¿‘çº¿æ€§ç›¸å…³çš„æ—¶å€™ï¼ŒPearsonç›¸å…³ç³»æ•°ä»ç„¶æ˜¯ä¸å¯æ›¿ä»£çš„ã€‚ç¬¬ä¸€ã€Pearsonç›¸å…³ç³»æ•°è®¡ç®—é€Ÿåº¦å¿«ï¼Œè¿™åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®çš„æ—¶å€™å¾ˆé‡è¦ã€‚ç¬¬äºŒã€Pearsonç›¸å…³ç³»æ•°çš„å–å€¼åŒºé—´æ˜¯[-1ï¼Œ1]ï¼Œè€ŒMICå’Œè·ç¦»ç›¸å…³ç³»æ•°éƒ½æ˜¯[0ï¼Œ1]ã€‚è¿™ä¸ªç‰¹ç‚¹ä½¿å¾—Pearsonç›¸å…³ç³»æ•°èƒ½å¤Ÿè¡¨å¾æ›´ä¸°å¯Œçš„å…³ç³»ï¼Œç¬¦å·è¡¨ç¤ºå…³ç³»çš„æ­£è´Ÿï¼Œç»å¯¹å€¼èƒ½å¤Ÿè¡¨ç¤ºå¼ºåº¦ã€‚å½“ç„¶ï¼ŒPearsonç›¸å…³æ€§æœ‰æ•ˆçš„å‰ææ˜¯ä¸¤ä¸ªå˜é‡çš„å˜åŒ–å…³ç³»æ˜¯å•è°ƒçš„ã€‚</p>
<h3 id="æ–¹å·®é€‰æ‹©æ³•"><a href="#æ–¹å·®é€‰æ‹©æ³•" class="headerlink" title="æ–¹å·®é€‰æ‹©æ³•"></a>æ–¹å·®é€‰æ‹©æ³•</h3><p>è¿‡æ»¤ç‰¹å¾é€‰æ‹©æ³•è¿˜æœ‰ä¸€ç§æ–¹æ³•ä¸éœ€è¦åº¦é‡ç‰¹å¾ x_i å’Œç±»åˆ«æ ‡ç­¾ y çš„ä¿¡æ¯é‡ã€‚è¿™ç§æ–¹æ³•å…ˆè¦è®¡ç®—å„ä¸ªç‰¹å¾çš„æ–¹å·®ï¼Œç„¶åæ ¹æ®é˜ˆå€¼ï¼Œé€‰æ‹©æ–¹å·®å¤§äºé˜ˆå€¼çš„ç‰¹å¾ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå…·æœ‰å¸ƒå°”ç‰¹å¾çš„æ•°æ®é›†ï¼Œå¹¶ä¸”æˆ‘ä»¬è¦åˆ æ‰€æœ‰01ç‰¹å¾ä¸­å‡ºç°0çš„æ¦‚ç‡è¶…è¿‡80%çš„ç‰¹å¾ã€‚å¸ƒå°”ç‰¹å¾æ˜¯ä¼¯åŠªåˆ©éšæœºå˜é‡ï¼Œè¿™äº›å˜é‡çš„æ–¹å·®ç”±ä¸‹å¼ç»™å‡º:<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-09%20%E4%B8%8A%E5%8D%889.06.28.png" alt=""><br>VarianceThresholdæ˜¯ç‰¹å¾é€‰æ‹©çš„ç®€å•åŸºçº¿æ–¹æ³•ã€‚å®ƒåˆ é™¤æ–¹å·®ä¸ç¬¦åˆæŸä¸ªé˜ˆå€¼çš„æ‰€æœ‰ç‰¹å¾ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šåˆ é™¤æ‰€æœ‰é›¶å·®å¼‚ç‰¹å¾ï¼Œå³æ‰€æœ‰æ ·æœ¬ä¸­å…·æœ‰ç›¸åŒå€¼çš„ç‰¹å¾ã€‚ä»£ç å¦‚ä¸‹ï¼š<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-09%20%E4%B8%8A%E5%8D%889.08.42.png" alt=""><br>è¾“å‡ºç»“æœï¼š<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-09%20%E4%B8%8A%E5%8D%889.09.21.png" alt=""><br>å¦‚é¢„æœŸçš„é‚£æ ·ï¼ŒVarianceThresholdå·²ç»åˆ é™¤äº†ç¬¬ä¸€åˆ—ï¼Œå…¶å…·æœ‰ p=5/6&gt;0.8 åŒ…å«é›¶çš„æ¦‚ç‡ã€‚</p>
<h2 id="åŒ…è£…-wrapper-ç‰¹å¾é€‰æ‹©"><a href="#åŒ…è£…-wrapper-ç‰¹å¾é€‰æ‹©" class="headerlink" title="åŒ…è£…(wrapper)ç‰¹å¾é€‰æ‹©"></a>åŒ…è£…(wrapper)ç‰¹å¾é€‰æ‹©</h2><p>Wrapperè¿™é‡ŒæŒ‡ä¸æ–­åœ°ä½¿ç”¨ä¸åŒçš„ç‰¹å¾ç»„åˆæ¥æµ‹è¯•å­¦ä¹ ç®—æ³•è¿›è¡Œç‰¹å¾é€‰æ‹©ã€‚å…ˆé€‰å®šç‰¹å®šç®—æ³•ï¼Œ ä¸€èˆ¬ä¼šé€‰ç”¨æ™®éæ•ˆæœè¾ƒå¥½çš„ç®—æ³•ï¼Œ ä¾‹å¦‚Random Forestï¼Œ SVMï¼Œ kNNç­‰ç­‰ã€‚</p>
<h3 id="å‰å‘æœç´¢"><a href="#å‰å‘æœç´¢" class="headerlink" title="å‰å‘æœç´¢"></a>å‰å‘æœç´¢</h3><p>å‰å‘æœç´¢è¯´ç™½äº†å°±æ˜¯æ¯æ¬¡å¢é‡åœ°ä»å‰©ä½™æœªé€‰ä¸­çš„ç‰¹å¾é€‰å‡ºä¸€ä¸ªåŠ å…¥ç‰¹å¾é›†ä¸­ï¼Œå¾…è¾¾åˆ°é˜ˆå€¼æˆ–è€… n æ—¶ï¼Œä»æ‰€æœ‰çš„ F ä¸­é€‰å‡ºé”™è¯¯ç‡æœ€å°çš„ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ç‰¹å¾é›† F ä¸ºç©ºã€‚</li>
<li>æ‰«æ i ä» 1 åˆ° nå¦‚æœç¬¬ i ä¸ªç‰¹å¾ä¸åœ¨ F ä¸­ï¼Œé‚£ä¹ˆç‰¹å¾ i å’ŒF æ”¾åœ¨ä¸€èµ·ä½œä¸º F_i (å³å–å¹¶é›†ï¼Œåœ¨åªä½¿ç”¨ F_i ä¸­ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨äº¤å‰éªŒè¯æ¥å¾—åˆ° F_i çš„é”™è¯¯ç‡ã€‚</li>
<li>ä»ä¸Šæ­¥ä¸­å¾—åˆ°çš„ n ä¸ª F_i ä¸­é€‰å‡ºé”™è¯¯ç‡æœ€å°çš„ F_i ,æ›´æ–° F ä¸º F_i ã€‚</li>
<li>å¦‚æœ F ä¸­çš„ç‰¹å¾æ•°è¾¾åˆ°äº† n æˆ–è€…é¢„å®šçš„é˜ˆå€¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œé‚£ä¹ˆè¾“å‡ºæ•´ä¸ªæœç´¢è¿‡ç¨‹ä¸­æœ€å¥½çš„ ï¼›è‹¥æ²¡è¾¾åˆ°ï¼Œåˆ™è½¬åˆ° 2ï¼Œç»§ç»­æ‰«æã€‚</li>
</ol>
<h3 id="åå‘æœç´¢"><a href="#åå‘æœç´¢" class="headerlink" title="åå‘æœç´¢"></a>åå‘æœç´¢</h3><p>æ—¢ç„¶æœ‰å¢é‡åŠ ï¼Œé‚£ä¹ˆä¹Ÿä¼šæœ‰å¢é‡å‡ï¼Œåè€…ç§°ä¸ºåå‘æœç´¢ã€‚å…ˆå°† F è®¾ç½®ä¸º {1,2,â€¦,n} ï¼Œç„¶åæ¯æ¬¡åˆ é™¤ä¸€ä¸ªç‰¹å¾ï¼Œå¹¶è¯„ä»·ï¼Œç›´åˆ°è¾¾åˆ°é˜ˆå€¼æˆ–è€…ä¸ºç©ºï¼Œç„¶åé€‰æ‹©æœ€ä½³çš„ F ã€‚</p>
<p><strong>è¿™ä¸¤ç§ç®—æ³•éƒ½å¯ä»¥å·¥ä½œï¼Œä½†æ˜¯è®¡ç®—å¤æ‚åº¦æ¯”è¾ƒå¤§ã€‚</strong>æ—¶é—´å¤æ‚åº¦ä¸º<br>O(n+(n-1)+(n-2)+â€¦+1)=O(n^2)</p>
<h3 id="é€’å½’ç‰¹å¾æ¶ˆé™¤æ³•"><a href="#é€’å½’ç‰¹å¾æ¶ˆé™¤æ³•" class="headerlink" title="é€’å½’ç‰¹å¾æ¶ˆé™¤æ³•"></a>é€’å½’ç‰¹å¾æ¶ˆé™¤æ³•</h3><p>é€’å½’æ¶ˆé™¤ç‰¹å¾æ³•ä½¿ç”¨ä¸€ä¸ªåŸºæ¨¡å‹æ¥è¿›è¡Œå¤šè½®è®­ç»ƒï¼Œæ¯è½®è®­ç»ƒåï¼Œæ¶ˆé™¤è‹¥å¹²æƒå€¼ç³»æ•°çš„ç‰¹å¾ï¼Œå†åŸºäºæ–°çš„ç‰¹å¾é›†è¿›è¡Œä¸‹ä¸€è½®è®­ç»ƒã€‚ä½¿ç”¨feature_selectionåº“çš„RFEç±»æ¥é€‰æ‹©ç‰¹å¾çš„ä»£ç å¦‚ä¸‹ï¼š<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-09%20%E4%B8%8A%E5%8D%889.30.05.png" alt=""></p>
<h2 id="åµŒå…¥-Embedded-ç‰¹å¾é€‰æ‹©"><a href="#åµŒå…¥-Embedded-ç‰¹å¾é€‰æ‹©" class="headerlink" title="åµŒå…¥(Embedded)ç‰¹å¾é€‰æ‹©"></a>åµŒå…¥(Embedded)ç‰¹å¾é€‰æ‹©</h2><h3 id="åŸºäºæƒ©ç½šé¡¹çš„ç‰¹å¾é€‰æ‹©æ³•"><a href="#åŸºäºæƒ©ç½šé¡¹çš„ç‰¹å¾é€‰æ‹©æ³•" class="headerlink" title="åŸºäºæƒ©ç½šé¡¹çš„ç‰¹å¾é€‰æ‹©æ³•"></a>åŸºäºæƒ©ç½šé¡¹çš„ç‰¹å¾é€‰æ‹©æ³•</h3><p>é€šè¿‡L1æ­£åˆ™é¡¹æ¥é€‰æ‹©ç‰¹å¾ï¼šL1æ­£åˆ™æ–¹æ³•å…·æœ‰ç¨€ç–è§£çš„ç‰¹æ€§ï¼Œå› æ­¤å¤©ç„¶å…·å¤‡ç‰¹å¾é€‰æ‹©çš„ç‰¹æ€§ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼ŒL1æ²¡æœ‰é€‰åˆ°çš„ç‰¹å¾ä¸ä»£è¡¨ä¸é‡è¦ï¼ŒåŸå› æ˜¯ä¸¤ä¸ªå…·æœ‰é«˜ç›¸å…³æ€§çš„ç‰¹å¾å¯èƒ½åªä¿ç•™äº†ä¸€ä¸ªï¼Œå¦‚æœè¦ç¡®å®šå“ªä¸ªç‰¹å¾é‡è¦åº”å†é€šè¿‡L2æ­£åˆ™æ–¹æ³•äº¤å‰æ£€éªŒã€‚</p>
<h3 id="åŸºäºå­¦ä¹ æ¨¡å‹çš„ç‰¹å¾æ’åº"><a href="#åŸºäºå­¦ä¹ æ¨¡å‹çš„ç‰¹å¾æ’åº" class="headerlink" title="åŸºäºå­¦ä¹ æ¨¡å‹çš„ç‰¹å¾æ’åº"></a>åŸºäºå­¦ä¹ æ¨¡å‹çš„ç‰¹å¾æ’åº</h3><p>è¿™ç§æ–¹æ³•çš„æ€è·¯æ˜¯ç›´æ¥ä½¿ç”¨ä½ è¦ç”¨çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œé’ˆå¯¹æ¯ä¸ªå•ç‹¬çš„ç‰¹å¾å’Œå“åº”å˜é‡å»ºç«‹é¢„æµ‹æ¨¡å‹ã€‚å‡å¦‚æŸä¸ªç‰¹å¾å’Œå“åº”å˜é‡ä¹‹é—´çš„å…³ç³»æ˜¯éçº¿æ€§çš„ï¼Œå¯ä»¥ç”¨åŸºäºæ ‘çš„æ–¹æ³•ï¼ˆå†³ç­–æ ‘ã€éšæœºæ£®æ—ï¼‰ã€æˆ–è€…æ‰©å±•çš„çº¿æ€§æ¨¡å‹ç­‰ã€‚åŸºäºæ ‘çš„æ–¹æ³•æ¯”è¾ƒæ˜“äºä½¿ç”¨ï¼Œå› ä¸ºä»–ä»¬å¯¹éçº¿æ€§å…³ç³»çš„å»ºæ¨¡æ¯”è¾ƒå¥½ï¼Œå¹¶ä¸”ä¸éœ€è¦å¤ªå¤šçš„è°ƒè¯•ã€‚ä½†è¦æ³¨æ„è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œå› æ­¤æ ‘çš„æ·±åº¦æœ€å¥½ä¸è¦å¤ªå¤§ï¼Œå†å°±æ˜¯è¿ç”¨äº¤å‰éªŒè¯ã€‚é€šè¿‡è¿™ç§è®­ç»ƒå¯¹ç‰¹å¾è¿›è¡Œæ‰“åˆ†è·å¾—ç›¸å…³æ€§åå†è®­ç»ƒæœ€ç»ˆæ¨¡å‹ã€‚</p>
<p>åœ¨æ³¢å£«é¡¿æˆ¿ä»·æ•°æ®é›†ä¸Šä½¿ç”¨sklearnçš„éšæœºæ£®æ—å›å½’ç»™å‡ºä¸€ä¸ªå•å˜é‡é€‰æ‹©çš„ä¾‹å­ï¼š<br><img src="/img/media/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-09%20%E4%B8%8A%E5%8D%889.52.18.png" alt=""></p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/zdkswd/2019/04/04/ç™¾é¢  ç‰¹å¾å·¥ç¨‹/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZDK"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZDK's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/04/ç™¾é¢  ç‰¹å¾å·¥ç¨‹/" class="post-title-link" itemprop="url">ç™¾é¢  ç‰¹å¾å·¥ç¨‹</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-04 20:00:47 / ä¿®æ”¹æ—¶é—´ï¼š20:00:50" itemprop="dateCreated datePublished" datetime="2019-04-04T20:00:47+08:00">2019-04-04</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çŸ¥è¯†æ€»ç»“/" itemprop="url" rel="index"><span itemprop="name">çŸ¥è¯†æ€»ç»“</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/04/04/ç™¾é¢  ç‰¹å¾å·¥ç¨‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/04/ç™¾é¢  ç‰¹å¾å·¥ç¨‹/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2019/04/04/ç™¾é¢  ç‰¹å¾å·¥ç¨‹/" class="post-meta-item leancloud_visitors" data-flag-title="ç™¾é¢  ç‰¹å¾å·¥ç¨‹">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          <br/>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ç™¾é¢-ç‰¹å¾å·¥ç¨‹"><a href="#ç™¾é¢-ç‰¹å¾å·¥ç¨‹" class="headerlink" title="ç™¾é¢  ç‰¹å¾å·¥ç¨‹"></a>ç™¾é¢  ç‰¹å¾å·¥ç¨‹</h1><p>Garbage in, garbage outã€‚å¯¹äºä¸€ä¸ªæœºå™¨å­¦ä¹ é—®é¢˜ï¼Œ<strong>æ•°æ®å’Œç‰¹å¾</strong>å¾€å¾€<strong>å†³å®š</strong>ç»“æœçš„<strong>ä¸Šé™</strong>ï¼Œè€Œæ¨¡å‹ï¼Œ<strong>ç®—æ³•</strong>çš„é€‰æ‹©åŠä¼˜åŒ–æ˜¯åœ¨é€æ­¥<strong>æ¥è¿‘</strong>è¿™ä¸ª<strong>ä¸Šé™</strong>ã€‚</p>
<p>ç‰¹å¾å·¥ç¨‹ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯å¯¹åŸå§‹æ•°æ®è¿›è¡Œä¸€ç³»åˆ—å·¥ç¨‹å¤„ç†ï¼Œå°†å…¶æç‚¼ä¸ºç‰¹å¾ï¼Œä½œä¸º<strong>è¾“å…¥</strong>ä¾›ç®—æ³•å’Œæ¨¡å‹ä½¿ç”¨ã€‚ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œç‰¹å¾å·¥ç¨‹æ˜¯ä¸€ä¸ªè¡¨ç¤ºå’Œå±•ç°æ•°æ®çš„è¿‡ç¨‹ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œç‰¹å¾å·¥ç¨‹æ—¨åœ¨å»é™¤åŸå§‹æ•°æ®ä¸­çš„æ‚è´¨å’Œå†—ä½™ï¼Œè®¾è®¡æ›´é«˜æ•ˆçš„ç‰¹å¾ä»¥åˆ»ç”»æ±‚è§£çš„é—®é¢˜ä¸é¢„æµ‹æ¨¡å‹ä¹‹é—´çš„å…³ç³»ã€‚<strong>ç‰¹å¾å°±æ˜¯æŒ‡inputçš„xï¼</strong></p>
<p>æœ‰ä¸¤ç§å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼š<br>(1) ç»“æ„åŒ–æ•°æ®ã€‚ç»“æ„åŒ–æ•°æ®ç±»å‹å¯ä»¥çœ‹ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¼ è¡¨ï¼Œæ¯åˆ—éƒ½æœ‰æ¸…æ™°çš„å®šä¹‰ï¼ŒåŒ…å«äº†æ•°å€¼å‹ã€ç±»åˆ«å‹ä¸¤ç§åŸºæœ¬ç±»å‹ï¼Œæ¯ä¸€è¡Œæ•°æ®è¡¨ç¤ºä¸€ä¸ªæ ·æœ¬çš„ä¿¡æ¯ã€‚</p>
<p>ï¼ˆ2ï¼‰éç»“æ„åŒ–æ•°æ®ã€‚éç»“æ„åŒ–æ•°æ®ä¸»è¦åŒ…æ‹¬æ–‡æœ¬ï¼Œå›¾åƒï¼ŒéŸ³é¢‘ï¼Œè§†é¢‘æ•°æ®ï¼Œå…¶åŒ…å«çš„ä¿¡æ¯æ— æ³•ç”¨ä¸€ä¸ªç®€å•çš„æ•°å€¼è¡¨ç¤ºï¼Œä¹Ÿæ²¡æœ‰æ¸…æ™°çš„ç±»åˆ«å®šä¹‰ï¼Œå¹¶ä¸”æ¯æ¡æ•°æ®çš„å¤§å°å„ä¸ç›¸åŒã€‚</p>
<h1 id="ç‰¹å¾å½’ä¸€åŒ–"><a href="#ç‰¹å¾å½’ä¸€åŒ–" class="headerlink" title="ç‰¹å¾å½’ä¸€åŒ–"></a>ç‰¹å¾å½’ä¸€åŒ–</h1><p>ä¸ºäº†æ¶ˆé™¤æ•°æ®ç‰¹å¾ä¹‹é—´çš„é‡çº²å½±å“ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç‰¹å¾è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œä½¿å¾—ä¸åŒæŒ‡æ ‡ä¹‹é—´å…·æœ‰å¯æ¯”æ€§ã€‚ä¾‹å¦‚ï¼Œåˆ†æä¸€ä¸ªäººçš„èº«é«˜å’Œä½“é‡å¯¹å¥åº·çš„å½±å“ï¼Œå¦‚æœ<br>ä½¿ç”¨ç±³(m)å’Œåƒå…‹(kg)ä½œä¸ºå•ä½ï¼Œé‚£ä¹ˆèº«é«˜ç‰¹å¾ä¼šåœ¨1.6~1.8mçš„æ•°å€¼èŒƒå›´å†…ï¼Œä½“é‡ç‰¹å¾ä¼šåœ¨50~100kgçš„èŒƒå›´å†…ï¼Œåˆ†æå‡ºæ¥çš„ç»“æœæ˜¾ç„¶ä¼šå€¾å‘äºæ•°å€¼å·®åˆ«æ¯”è¾ƒå¤§çš„ä½“é‡ç‰¹å¾ã€‚æƒ³è¦å¾—åˆ°æ›´ä¸ºå‡†ç¡®çš„ç»“æœï¼Œå°±éœ€è¦è¿›è¡Œç‰¹å¾å½’ä¸€åŒ–(Normalization)å¤„ç†ï¼Œä½¿å„æŒ‡æ ‡å¤„äºåŒä¸€æ•°å€¼é‡çº§ï¼Œä»¥ä¾¿è¿›è¡Œåˆ†æã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆéœ€è¦å¯¹æ•°å€¼ç±»å‹çš„ç‰¹å¾åšå½’ä¸€åŒ–ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å¯¹æ•°å€¼ç±»å‹çš„ç‰¹å¾åšå½’ä¸€åŒ–ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å¯¹æ•°å€¼ç±»å‹çš„ç‰¹å¾åšå½’ä¸€åŒ–ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦å¯¹æ•°å€¼ç±»å‹çš„ç‰¹å¾åšå½’ä¸€åŒ–ï¼Ÿ</h2><p>å¯¹æ•°å€¼ç±»å‹çš„ç‰¹å¾åšå½’â€”åŒ–å¯ä»¥å°†æ‰€æœ‰çš„ç‰¹å¾éƒ½ç»Ÿä¸€åˆ°ä¸€ä¸ªå¤§è‡´ç›¸åŒçš„æ•°å€¼åŒºé—´å†…ã€‚æœ€å¸¸ç”¨çš„æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ã€‚</p>
<p>(1)çº¿æ€§å‡½æ•°å½’ä¸€åŒ–(Min-Max Scaling) ã€‚å®ƒå¯¹åŸå§‹æ•°æ®è¿›è¡Œçº¿æ€§å˜æ¢ï¼Œä½¿ç»“æœæ˜ å°„åˆ°[0, 1]çš„èŒƒå›´ï¼Œå®ç°å¯¹åŸå§‹æ•°æ®çš„ç­‰æ¯”ç¼©æ”¾ã€‚å½’ä¸€åŒ–å…¬å¼å¦‚ä¸‹<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-03%20%E4%B8%8B%E5%8D%881.35.54.png" alt=""><br>ï¼ˆ2ï¼‰é›¶å‡å€¼å½’ä¸€åŒ–(Z-Score Normalization)ã€‚å®ƒä¼šå°†åŸå§‹æ•°æ®æ˜ å°„åˆ°å‡å€¼ä¸º0ã€æ ‡å‡†å·®ä¸º1çš„åˆ†å¸ƒä¸Šã€‚å…·ä½“æ¥è¯´ï¼Œå‡è®¾åŸå§‹ç‰¹å¾çš„å‡å€¼ä¸ºÎ¼ã€æ ‡å‡†å·®ä¸ºÎ´ï¼Œé‚£ä¹ˆå½’ä¸€åŒ–å…¬å¼å®šä¹‰ä¸º<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-03%20%E4%B8%8B%E5%8D%881.49.37.png" alt=""></p>
<p>å¯¹æ•°å€¼å‹ç‰¹å¾åšå½’ä¸€åŒ–çš„åŸå› åœ¨äºï¼Œ<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/WechatIMG70.jpeg" alt=""></p>
<p>æ•°æ®å½’ä¸€åŒ–ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šè¿‡<strong>æ¢¯åº¦ä¸‹é™æ³•</strong>æ±‚è§£çš„æ¨¡å‹é€šå¸¸æ˜¯éœ€è¦å½’ä¸€åŒ–çš„ï¼ŒåŒ…æ‹¬çº¿æ€§å›å½’ï¼Œé€»è¾‘å›å½’ï¼Œæ”¯æŒå‘é‡æœºï¼Œç¥ç»ç½‘ç»œç­‰æ¨¡å‹ã€‚ä½†å¯¹äºå†³ç­–æ ‘æ¨¡å‹åˆ™å¹¶ä¸é€‚ç”¨ï¼Œä»¥C4.5ä¸ºä¾‹ï¼Œå†³ç­–æ ‘åœ¨è¿›è¡ŒèŠ‚ç‚¹åˆ†è£‚æ—¶ä¸»è¦ä¾æ®æ•°æ®é›†Då…³äºç‰¹å¾xçš„ä¿¡æ¯å¢ç›Šæ¯”ï¼Œè€Œä¿¡æ¯å¢ç›Šæ¯”è·Ÿç‰¹å¾æ˜¯å¦ç»è¿‡å½’ä¸€åŒ–æ˜¯æ— å…³çš„ï¼Œå› ä¸ºå½’ä¸€åŒ–ä¸ä¼šæ”¹å˜æ ·æœ¬åœ¨ç‰¹å¾xä¸Šçš„ä¿¡æ¯å¢ç›Šã€‚</p>
<h1 id="ç±»åˆ«å‹ç‰¹å¾"><a href="#ç±»åˆ«å‹ç‰¹å¾" class="headerlink" title="ç±»åˆ«å‹ç‰¹å¾"></a>ç±»åˆ«å‹ç‰¹å¾</h1><p>ç±»åˆ«å‹ç‰¹å¾(Categorical Feature)ä¸»è¦æ˜¯æŒ‡æ€§åˆ«(ç”·ã€å¥³)ã€è¡€å‹(Aã€Bã€ABã€O)ç­‰åªåœ¨æœ‰é™é€‰é¡¹å†…å–å€¼çš„ç‰¹å¾ã€‚ç±»åˆ«å‹ç‰¹å¾åŸå§‹è¾“å…¥é€šå¸¸æ˜¯å­—ç¬¦ä¸²å½¢å¼ï¼Œé™¤äº†å†³ç­–æ ‘ç­‰å°‘æ•°æ¨¡å‹èƒ½ç›´æ¥å¤„ç†å­—ç¬¦ä¸²å½¢å¼çš„è¾“å…¥ï¼Œ<strong>å¯¹äºé€»è¾‘å›å½’ã€æ”¯æŒå‘é‡æœºç­‰æ¨¡å‹æ¥è¯´ï¼Œç±»åˆ«å‹ç‰¹å¾å¿…é¡»ç»è¿‡å¤„ç†è½¬æ¢æˆæ•°å€¼å‹ç‰¹å¾æ‰èƒ½æ­£ç¡®å·¥ä½œã€‚</strong></p>
<h2 id="ä¸å¤„ç†æ—¶å¦‚ä½•å¤„ç†ç±»åˆ«å‹ç‰¹å¾ï¼Ÿ"><a href="#ä¸å¤„ç†æ—¶å¦‚ä½•å¤„ç†ç±»åˆ«å‹ç‰¹å¾ï¼Ÿ" class="headerlink" title="ä¸å¤„ç†æ—¶å¦‚ä½•å¤„ç†ç±»åˆ«å‹ç‰¹å¾ï¼Ÿ"></a>ä¸å¤„ç†æ—¶å¦‚ä½•å¤„ç†ç±»åˆ«å‹ç‰¹å¾ï¼Ÿ</h2><h3 id="åºå·ç¼–ç "><a href="#åºå·ç¼–ç " class="headerlink" title="åºå·ç¼–ç "></a>åºå·ç¼–ç </h3><p>åºå·ç¼–ç é€šå¸¸ç”¨äºå¤„ç†ç±»åˆ«é—´å…·æœ‰å¤§å°å…³ç³»çš„æ•°æ®ã€‚ä¾‹å¦‚æˆç»©ï¼Œå¯ä»¥åˆ†ä¸ºä½ã€ä¸­ã€é«˜ä¸‰æ¡£ï¼Œå¹¶ä¸”å­˜åœ¨â€œé«˜&gt;ä¸­&gt;ä½â€çš„æ’åºå…³ç³»ã€‚åºå·ç¼–ç ä¼šæŒ‰ç…§å¤§å°å…³ç³»å¯¹ç±»åˆ«å‹ç‰¹å¾èµ‹äºˆä¸€ä¸ªæ•°å€¼ID,ä¾‹å¦‚é«˜è¡¨ç¤ºä¸º3ã€ä¸­è¡¨ç¤ºä¸º2ã€ä½è¡¨ç¤ºä¸º1,è½¬æ¢åä¾ç„¶ä¿ç•™äº†å¤§å°å…³ç³»ã€‚</p>
<h3 id="ç‹¬çƒ­ç¼–ç "><a href="#ç‹¬çƒ­ç¼–ç " class="headerlink" title="ç‹¬çƒ­ç¼–ç "></a>ç‹¬çƒ­ç¼–ç </h3><p>ç‹¬çƒ­ç¼–ç é€šå¸¸ç”¨äºå¤„ç†ç±»åˆ«é—´ä¸å…·æœ‰å¤§å°å…³ç³»çš„ç‰¹å¾ã€‚ä¾‹å¦‚è¡€å‹ï¼Œä¸€å…±æœ‰4ä¸ªå–å€¼(Aå‹è¡€ã€Bå‹è¡€ã€ABå‹è¡€ã€Oå‹è¡€)ï¼Œç‹¬çƒ­ç¼–ç ä¼šæŠŠè¡€å‹å˜æˆä¸€ä¸ª4ç»´ç¨€ç–å‘é‡ï¼ŒAå‹è¡€è¡¨ç¤ºä¸º(1,0,0,0) ï¼ŒBå‹è¡€è¡¨ç¤ºä¸º(0, 1,0,0)ï¼ŒABå‹è¡¨ç¤ºä¸º(0, 0,1,0)ï¼ŒOå‹è¡€è¡¨ç¤ºä¸º(0,0,0,1)ã€‚å¯¹äºç±»åˆ«å–å€¼è¾ƒå¤šçš„æƒ…å†µä¸‹ä½¿ç”¨ç‹¬çƒ­ç¼–ç éœ€è¦<br>æ³¨æ„ä»¥ä¸‹é—®é¢˜ã€‚</p>
<p>(1)ä½¿ç”¨ç¨€ç–å‘é‡æ¥èŠ‚çœç©ºé—´ã€‚åœ¨ç‹¬çƒ­ç¼–ç ä¸‹ï¼Œç‰¹å¾å‘é‡åªæœ‰æŸä¸€ç»´å–å€¼ä¸º1ï¼Œå…¶ä»–ä½ç½®å–å€¼å‡ä¸º0ã€‚å› æ­¤å¯ä»¥åˆ©ç”¨å‘é‡çš„ç¨€ç–è¡¨ç¤ºæœ‰æ•ˆåœ°èŠ‚çœç©ºé—´ï¼Œå¹¶ä¸”ç›®<br>å‰å¤§éƒ¨åˆ†çš„ç®—æ³•å‡æ¥å—ç¨€ç–å‘é‡å½¢å¼çš„è¾“å…¥ã€‚</p>
<p>(2)é…åˆç‰¹å¾é€‰æ‹©æ¥é™ä½ç»´åº¦ã€‚é«˜ç»´åº¦ç‰¹å¾ä¼šå¸¦æ¥å‡ æ–¹é¢çš„é—®é¢˜ã€‚ä¸€æ˜¯åœ¨Kè¿‘é‚»ç®—æ³•ä¸­ï¼Œé«˜ç»´ç©ºé—´ä¸‹ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å¾ˆéš¾å¾—åˆ°æœ‰æ•ˆçš„è¡¡é‡;äºŒæ˜¯åœ¨é€»è¾‘å›å½’æ¨¡å‹ä¸­ï¼Œå‚æ•°çš„æ•°é‡ä¼šéšç€ç»´åº¦çš„å¢é«˜è€Œå¢åŠ ï¼Œå®¹æ˜“å¼•èµ·è¿‡æ‹Ÿåˆé—®é¢˜;ä¸‰æ˜¯é€šå¸¸åªæœ‰éƒ¨åˆ†ç»´åº¦æ˜¯å¯¹åˆ†ç±»ã€é¢„æµ‹æœ‰å¸®åŠ©ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘é…åˆç‰¹å¾é€‰æ‹©æ¥é™ä½ç»´åº¦ã€‚</p>
<h3 id="äºŒè¿›åˆ¶ç¼–ç "><a href="#äºŒè¿›åˆ¶ç¼–ç " class="headerlink" title="äºŒè¿›åˆ¶ç¼–ç "></a>äºŒè¿›åˆ¶ç¼–ç </h3><p>äºŒè¿›åˆ¶ç¼–ç ä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼Œå…ˆç”¨åºå·ç¼–ç ç»™æ¯ä¸ªç±»åˆ«èµ‹äºˆä¸€ä¸ªç±»åˆ«ID,ç„¶åå°†ç±»åˆ«IDå¯¹åº”çš„äºŒè¿›åˆ¶ç¼–ç ä½œä¸ºç»“æœã€‚ä»¥Aã€Bã€ABã€Oè¡€å‹ä¸ºä¾‹ï¼ŒAå‹è¡€çš„IDä¸º1ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º001; Bå‹è¡€çš„IDä¸º2ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º010;ä»¥æ­¤ç±»æ¨å¯ä»¥å¾—åˆ°ABå‹è¡€å’ŒOå‹è¡€çš„äºŒè¿›åˆ¶è¡¨ç¤ºã€‚å¯ä»¥çœ‹å‡ºï¼ŒäºŒè¿›åˆ¶ç¼–ç æœ¬è´¨ä¸Šæ˜¯åˆ©ç”¨äºŒè¿›åˆ¶å¯¹IDè¿›è¡Œå“ˆå¸Œæ˜ å°„ï¼Œæœ€ç»ˆå¾—åˆ°0/1ç‰¹å¾å‘é‡ï¼Œä¸”ç»´æ•°å°‘äºç‹¬çƒ­ç¼–ç ï¼ŒèŠ‚çœäº†å­˜å‚¨ç©ºé—´ã€‚</p>
<h1 id="ç»„åˆç‰¹å¾"><a href="#ç»„åˆç‰¹å¾" class="headerlink" title="ç»„åˆç‰¹å¾"></a>ç»„åˆç‰¹å¾</h1><h2 id="ä»€ä¹ˆæ˜¯ç»„åˆç‰¹å¾ï¼Ÿå¦‚ä½•å¤„ç†é«˜ç»´ç»„åˆç‰¹å¾ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç»„åˆç‰¹å¾ï¼Ÿå¦‚ä½•å¤„ç†é«˜ç»´ç»„åˆç‰¹å¾ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç»„åˆç‰¹å¾ï¼Ÿå¦‚ä½•å¤„ç†é«˜ç»´ç»„åˆç‰¹å¾ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç»„åˆç‰¹å¾ï¼Ÿå¦‚ä½•å¤„ç†é«˜ç»´ç»„åˆç‰¹å¾ï¼Ÿ</h2><p>ä¸ºäº†æé«˜å¤æ‚å…³ç³»çš„æ‹Ÿåˆèƒ½åŠ›ï¼Œåœ¨ç‰¹å¾å·¥ç¨‹ä¸­ç»å¸¸ä¼šæŠŠä¸€é˜¶ç¦»æ•£ç‰¹å¾ä¸¤ä¸¤ç»„åˆï¼Œæ„æˆé«˜é˜¶ç»„åˆç‰¹å¾ã€‚ä»¥å¹¿å‘Šç‚¹å‡»é¢„ä¼°é—®é¢˜ä¸ºä¾‹ï¼ŒåŸå§‹æ•°æ®æœ‰è¯­è¨€å’Œç±»å‹ä¸¤ç§ç¦»æ•£ç‰¹å¾ï¼Œè¡¨1.2æ˜¯è¯­è¨€å’Œç±»å‹å¯¹ç‚¹å‡»çš„å½±å“ã€‚ä¸ºäº†æé«˜æ‹Ÿåˆèƒ½åŠ›ï¼Œè¯­è¨€å’Œç±»å‹å¯ä»¥ç»„æˆäºŒé˜¶ç‰¹å¾ï¼Œè¡¨1.3æ˜¯è¯­è¨€å’Œç±»å‹çš„ç»„åˆç‰¹å¾å¯¹ç‚¹å‡»çš„å½±å“ã€‚<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/WechatIMG71.jpeg" alt=""><br><strong>è¡¨1.3ä¹ƒç»„åˆç‰¹å¾çŸ©é˜µã€‚</strong><br>ä»¥é€»è¾‘å›å½’ä¸ºä¾‹ï¼Œå‡è®¾æ•°æ®çš„ç‰¹å¾å‘é‡ä¸ºX=(x1,x2,â€¦,xk)ï¼Œåˆ™æœ‰ï¼Œ<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-03%20%E4%B8%8B%E5%8D%889.42.46.png" alt=""><br>å…¶ä¸­&lt;xi,xj&gt;è¡¨ç¤ºxiå’Œxjçš„ç»„åˆç‰¹å¾,wijçš„ç»´åº¦ç­‰äº|xi| * |xj|ï¼Œ|xi|å’Œ|xj|åˆ†åˆ«ä»£è¡¨ç¬¬iä¸ªç‰¹å¾å’Œç¬¬jä¸ªç‰¹å¾ä¸åŒå–å€¼çš„ä¸ªæ•°ã€‚åœ¨ä¸Šè¿°è¡¨ä¸­ï¼Œwijå³ä¸ºè¡¨1.3ä¸­çš„0æˆ–1ã€‚</p>
<p>è‹¥æ˜¯å…³äºç”¨æˆ·å’Œç‰©å“çš„çŸ©é˜µï¼Œç”¨æˆ·æ•°é‡ä¸ºmï¼Œç‰©å“æ•°é‡ä¸ºnï¼Œå½“mï¼Œnçš„æ•°é‡å·¨å¤§æ—¶ï¼Œå‡ ä¹æ— æ³•å­¦ä¹ mâ€¢nè§„æ¨¡çš„å‚æ•°ã€‚æ­¤æ—¶ï¼Œæœ‰æ•ˆçš„åŠæ³•æ˜¯å°†ç”¨æˆ·å’Œç‰©å“åˆ†åˆ«ç”¨kç»´çš„ä½ç»´å‘é‡è¡¨ç¤ºï¼Œkè¿œå°äºmå’Œnã€‚æ­¤æ—¶<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/page29image88376.jpg" alt=""><br>åˆ†åˆ«è¡¨ç¤ºxiå’Œxjå¯¹åº”çš„ä½ç»´å‘é‡ã€‚éœ€è¦å­¦ä¹ çš„å‚æ•°è§„æ¨¡å˜ä¸ºäº†mâ€¢k+nâ€¢kã€‚è¿™ä¹Ÿå°±æ˜¯æ¨èç³»ç»Ÿä¸­çš„çŸ©é˜µåˆ†è§£ã€‚</p>
<p>ä¸Šè¿°å†…å®¹å³ä¸ºåˆ©ç”¨<strong>é™ç»´æ–¹æ³•æ¥å‡å°‘ä¸¤ä¸ªé«˜ç»´ç‰¹å¾ç»„åˆåéœ€è¦å­¦ä¹ çš„å‚æ•°ã€‚</strong></p>
<h1 id="ç»„åˆç‰¹å¾-1"><a href="#ç»„åˆç‰¹å¾-1" class="headerlink" title="ç»„åˆç‰¹å¾"></a>ç»„åˆç‰¹å¾</h1><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¸¸å¸¸éœ€è¦é¢å¯¹å¤šç§é«˜ç»´ç‰¹å¾ï¼Œç®€å•åœ°ä¸¤ä¸¤ç»„åˆä¾ç„¶å®¹æ˜“å­˜åœ¨å‚æ•°è¿‡å¤šï¼Œè¿‡æ‹Ÿåˆç­‰é—®é¢˜ï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰¹å¾ç»„åˆéƒ½æ˜¯æœ‰æ„ä¹‰çš„ã€‚å¯ä»¥é‡‡ç”¨GBDTæ¥æ„å»ºç‰¹å¾ã€‚</p>
<h1 id="æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹"><a href="#æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹" class="headerlink" title="æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹"></a>æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹</h1><p>æ–‡æœ¬æ˜¯ä¸€ç±»éå¸¸é‡è¦çš„éç»“æ„åŒ–æ•°æ®,å¦‚ä½•è¡¨ç¤ºæ–‡æœ¬æ•°æ®ä¸€ç›´æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸçš„ä¸€ä¸ªé‡è¦ç ”ç©¶æ–¹å‘ã€‚</p>
<h2 id="æœ‰å“ªäº›æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹ï¼Ÿå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ"><a href="#æœ‰å“ªäº›æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹ï¼Ÿå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="æœ‰å“ªäº›æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹ï¼Ÿå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ"></a>æœ‰å“ªäº›æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹ï¼Ÿå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</h2><h3 id="è¯è¢‹æ¨¡å‹å’ŒN-gramæ¨¡å‹"><a href="#è¯è¢‹æ¨¡å‹å’ŒN-gramæ¨¡å‹" class="headerlink" title="è¯è¢‹æ¨¡å‹å’ŒN-gramæ¨¡å‹"></a>è¯è¢‹æ¨¡å‹å’ŒN-gramæ¨¡å‹</h3><p>æœ€åŸºç¡€çš„æ–‡æœ¬è¡¨ç¤ºæ¨¡å‹æ˜¯<strong>è¯è¢‹æ¨¡å‹</strong>ã€‚é¡¾åæ€ä¹‰,å°±æ˜¯å°†æ¯ç¯‡æ–‡ç« çœ‹æˆä¸€è¢‹å­è¯,å¹¶å¿½ç•¥æ¯ä¸ªè¯å‡ºç°çš„é¡ºåºã€‚å…·ä½“åœ°è¯´,å°±æ˜¯å°†æ•´æ®µæ–‡æœ¬ä»¥è¯ä¸ºå•ä½åˆ‡åˆ†å¼€ç„¶åæ¯ç¯‡æ–‡ç« å¯ä»¥è¡¨ç¤ºæˆä¸€ä¸ª<strong>é•¿å‘é‡</strong>,å‘é‡ä¸­çš„æ¯ä¸€ç»´ä»£è¡¨ä¸€ä¸ªå•è¯,è€Œè¯¥ç»´å¯¹åº”çš„æƒé‡åˆ™åæ˜ äº†è¿™ä¸ªè¯åœ¨åŸæ–‡ç« ä¸­çš„é‡è¦ç¨‹åº¦ã€‚<strong>å¸¸ç”¨TF-IDFæ¥è®¡ç®—æƒé‡</strong>,å…¬å¼ä¸º<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-04%20%E4%B8%8B%E5%8D%886.43.52.png" alt=""><br>å…¶ä¸­TF(t,d)ä¸ºå•è¯tåœ¨æ–‡æ¡£dä¸­å‡ºç°çš„é¢‘ç‡,IDF(t)æ˜¯<strong>é€†æ–‡æ¡£é¢‘ç‡</strong>,ç”¨æ¥è¡¡é‡å•è¯tå¯¹è¡¨è¾¾è¯­ä¹‰æ‰€èµ·çš„é‡è¦æ€§,è¡¨ç¤ºä¸º<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-04%20%E4%B8%8B%E5%8D%886.46.07.png" alt=""><br>ç›´è§‚çš„è§£é‡Šæ˜¯,å¦‚æœä¸€ä¸ªå•è¯åœ¨éå¸¸å¤šçš„æ–‡ç« é‡Œé¢éƒ½å‡ºç°,é‚£ä¹ˆå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„è¯æ±‡,å¯¹äºåŒºåˆ†æŸç¯‡æ–‡ç« ç‰¹æ®Šè¯­ä¹‰çš„è´¡çŒ®è¾ƒå°,å› æ­¤å¯¹æƒé‡åšä¸€å®šæƒ©ç½šã€‚</p>
<p>å°†æ–‡ç« è¿›è¡Œå•è¯çº§åˆ«çš„åˆ’åˆ†æœ‰æ—¶å€™å¹¶ä¸æ˜¯ä¸€ç§å¥½çš„åšæ³•,æ¯”å¦‚è‹±æ–‡ä¸­çš„natural  language processing(è‡ªç„¶è¯­è¨€å¤„ç†)ä¸€è¯,å¦‚æœå°† natural, language, processingè¿™3ä¸ªè¯æ‹†åˆ†å¼€æ¥,æ‰€è¡¨è¾¾çš„å«ä¹‰ä¸ä¸‰ä¸ªè¯è¿ç»­å‡ºç°æ—¶å¤§ç›¸å¾„åº­ã€‚é€šå¸¸,å¯ä»¥å°†è¿ç»­å‡ºç°çš„nä¸ªè¯(nâ‰¤N)ç»„æˆçš„è¯ç»„(<strong>N-gram</strong>)ä¹Ÿä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç‰¹å¾æ”¾åˆ°å‘é‡è¡¨ç¤ºä¸­å»,æ„æˆ<strong>N-gramæ¨¡å‹</strong>ã€‚å¦å¤–,åŒä¸€ä¸ªè¯å¯èƒ½æœ‰å¤šç§è¯æ€§å˜åŒ–,å´å…·æœ‰ç›¸ä¼¼çš„å«ä¹‰ã€‚åœ¨å®é™…åº”ç”¨ä¸­,ä¸€èˆ¬ä¼šå¯¹å•è¯è¿›è¡Œè¯å¹²æŠ½å–(Word Stemming)å¤„ç†,å³å°†ä¸åŒè¯æ€§çš„å•è¯ç»Ÿä¸€æˆä¸ºåŒä¸€è¯å¹²çš„å½¢å¼ã€‚</p>
<h3 id="ä¸»é¢˜æ¨¡å‹"><a href="#ä¸»é¢˜æ¨¡å‹" class="headerlink" title="ä¸»é¢˜æ¨¡å‹"></a>ä¸»é¢˜æ¨¡å‹</h3><p>ä¸»é¢˜æ¨¡å‹ç”¨äºä»æ–‡æœ¬åº“ä¸­å‘ç°æœ‰ä»£è¡¨æ€§çš„ä¸»é¢˜ï¼Œå¹¶ä¸”èƒ½å¤Ÿè®¡ç®—å‡ºæ¯ç¯‡æ–‡ç« çš„ä¸»é¢˜åˆ†å¸ƒã€‚</p>
<h3 id="è¯åµŒå…¥ä¸æ·±åº¦å­¦ä¹ æ¨¡å‹"><a href="#è¯åµŒå…¥ä¸æ·±åº¦å­¦ä¹ æ¨¡å‹" class="headerlink" title="è¯åµŒå…¥ä¸æ·±åº¦å­¦ä¹ æ¨¡å‹"></a>è¯åµŒå…¥ä¸æ·±åº¦å­¦ä¹ æ¨¡å‹</h3><p>è¯åµŒå…¥æ˜¯ä¸€ç±»å°†è¯å‘é‡åŒ–çš„æ¨¡å‹çš„ç»Ÿç§°,æ ¸å¿ƒæ€æƒ³æ˜¯å°†æ¯ä¸ªè¯éƒ½æ˜ å°„æˆä½ç»´ç©ºé—´(é€šå¸¸K=50~300ç»´)ä¸Šçš„ä¸€ä¸ªç¨ å¯†å‘é‡(<strong>Dense vector</strong>)ã€‚Kç»´ç©ºé—´çš„æ¯ä¸€ç»´ä¹Ÿå¯ä»¥çœ‹ä½œä¸€ä¸ªéšå«çš„ä¸»é¢˜,åªä¸è¿‡ä¸åƒä¸»é¢˜æ¨¡å‹ä¸­çš„ä¸»é¢˜é‚£æ ·ç›´è§‚ã€‚</p>
<p>ç”±äºè¯åµŒå…¥å°†æ¯ä¸ªè¯æ˜ å°„æˆä¸€ä¸ªKç»´çš„å‘é‡,å¦‚æœä¸€ç¯‡æ–‡æ¡£æœ‰Nä¸ªè¯,å°±å¯ä»¥ç”¨ä¸€ä¸ªNxKç»´çš„çŸ©é˜µæ¥è¡¨ç¤ºè¿™ç¯‡æ–‡æ¡£,ä½†æ˜¯è¿™æ ·çš„è¡¨ç¤ºè¿‡äºåº•å±‚ã€‚åœ¨å®é™…åº”ç”¨ä¸­,å¦‚æœä»…ä»…æŠŠè¿™ä¸ªçŸ©é˜µä½œä¸ºåŸæ–‡æœ¬çš„è¡¨ç¤ºç‰¹å¾è¾“å…¥åˆ°æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­,é€šå¸¸å¾ˆéš¾å¾—åˆ°ä»¤äººæ»¡æ„çš„ç»“æœã€‚</p>
<p>å› æ­¤,è¿˜éœ€è¦åœ¨æ­¤åŸºç¡€ä¹‹ä¸ŠåŠ å·¥å‡ºæ›´é«˜å±‚çš„ç‰¹å¾ã€‚åœ¨ä¼ ç»Ÿçš„æµ…å±‚æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­,ä¸€ä¸ªå¥½çš„ç‰¹å¾å·¥ç¨‹å¾€å¾€å¯ä»¥å¸¦æ¥ç®—æ³•æ•ˆæœçš„æ˜¾è‘—æå‡ã€‚è€Œæ·±åº¦å­¦ä¹ æ¨¡å‹æ­£å¥½ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§è‡ªåŠ¨åœ°è¿›è¡Œç‰¹å¾å·¥ç¨‹çš„æ–¹å¼,æ¨¡å‹ä¸­çš„æ¯ä¸ªéšå±‚éƒ½å¯ä»¥è®¤ä¸ºå¯¹åº”ç€ä¸åŒæŠ½è±¡å±‚æ¬¡çš„ç‰¹å¾ã€‚ä»è¿™ä¸ªè§’åº¦æ¥è®²,<strong>æ·±åº¦å­¦ä¹ æ¨¡å‹</strong>èƒ½å¤Ÿæ‰“è´¥æµ…å±‚æ¨¡å‹ä¹Ÿå°±é¡ºç†æˆç« äº†ã€‚å·ç§¯ç¥ç»ç½‘ç»œå’Œå¾ªç¯ç¥ç»ç½‘ç»œçš„ç»“æ„åœ¨æ–‡æœ¬è¡¨ç¤ºä¸­å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœ,ä¸»è¦æ˜¯ç”±äºå®ƒä»¬èƒ½å¤Ÿæ›´å¥½åœ°å¯¹æ–‡æœ¬è¿›è¡Œå»ºæ¨¡,æŠ½å–å‡ºä¸€äº›é«˜å±‚çš„è¯­ä¹‰ç‰¹å¾ã€‚ä¸å…¨è¿æ¥çš„ç½‘ç»œç»“æ„ç›¸æ¯”,å·ç§¯ç¥ç»ç½‘ç»œå’Œå¾ªç¯ç¥ç»ç½‘ç»œä¸€æ–¹é¢å¾ˆå¥½åœ°æŠ“ä½äº†æ–‡æœ¬çš„ç‰¹æ€§,å¦ä¸€æ–¹é¢åˆå‡å°‘äº†ç½‘ç»œä¸­å¾…å­¦ä¹ çš„å‚æ•°,æé«˜äº†è®­ç»ƒé€Ÿåº¦,å¹¶ä¸”é™ä½äº†è¿‡æ‹Ÿåˆçš„é£é™©ã€‚</p>
<p>æ‰€ä»¥è¯´åµŒå…¥åŠ æ·±åº¦æ¨¡å‹æˆä¸ºäº†æ ‡é…ã€‚</p>
<h1 id="Word2Vec"><a href="#Word2Vec" class="headerlink" title="Word2Vec"></a>Word2Vec</h1><p>è°·æ­Œ2013å¹´æå‡ºçš„word2vecæ˜¯ç›®å‰æœ€å¸¸ç”¨çš„è¯åµŒå…¥æ¨¡å‹ä¹‹ä¸€ã€‚Word2Vecå®é™…æ˜¯ä¸€ç§<strong>æµ…å±‚çš„ç¥ç»ç½‘ç»œæ¨¡å‹</strong>,å®ƒæœ‰ä¸¤ç§ç½‘ç»œç»“æ„,åˆ†åˆ«æ˜¯CBOW(Continues Bag of words)å’ŒSkip-gramã€‚</p>
<h2 id="word2vecæ˜¯å¦‚ä½•å·¥ä½œçš„-å®ƒå’ŒLDAæœ‰ä»€ä¹ˆåŒºåˆ«ä¸è”ç³»"><a href="#word2vecæ˜¯å¦‚ä½•å·¥ä½œçš„-å®ƒå’ŒLDAæœ‰ä»€ä¹ˆåŒºåˆ«ä¸è”ç³»" class="headerlink" title="word2vecæ˜¯å¦‚ä½•å·¥ä½œçš„?å®ƒå’ŒLDAæœ‰ä»€ä¹ˆåŒºåˆ«ä¸è”ç³»?"></a>word2vecæ˜¯å¦‚ä½•å·¥ä½œçš„?å®ƒå’ŒLDAæœ‰ä»€ä¹ˆåŒºåˆ«ä¸è”ç³»?</h2><p><strong>CBOW</strong>çš„ç›®æ ‡æ˜¯æ ¹æ®ä¸Šä¸‹æ–‡å‡ºç°çš„è¯è¯­æ¥é¢„æµ‹å½“å‰è¯çš„ç”Ÿæˆæ¦‚ç‡;è€ŒSkip-gramæ˜¯æ ¹æ®å½“å‰è¯æ¥é¢„æµ‹ä¸Šä¸‹æ–‡ä¸­å„è¯çš„ç”Ÿæˆæ¦‚ç‡ã€‚<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-04%20%E4%B8%8B%E5%8D%887.15.32.png" alt=""><br>å…¶ä¸­w()æ˜¯å½“å‰æ‰€å…³æ³¨çš„è¯,w(t-2)ã€w(t-1)ã€w(t+1)ã€w(t+2)æ˜¯ä¸Šä¸‹æ–‡ä¸­å‡ºç°çš„è¯ã€‚è¿™é‡Œå‰åæ»‘åŠ¨çª—å£å¤§å°å‡è®¾ä¸º2ã€‚</p>
<p>CBOWå’ŒSkip-graméƒ½å¯ä»¥è¡¨ç¤ºæˆç”±è¾“å…¥å±‚(Input)ã€æ˜ å°„å±‚(Projection)å’Œè¾“å‡ºå±‚(Output)ç»„æˆçš„ç¥ç»ç½‘ç»œã€‚</p>
<p><strong>è¾“å…¥å±‚</strong>ä¸­çš„æ¯ä¸ªè¯ç”±<strong>ç‹¬çƒ­ç¼–ç </strong>æ–¹å¼è¡¨ç¤º,å³æ‰€æœ‰è¯å‡è¡¨ç¤ºæˆä¸€ä¸ªNç»´å‘é‡,å…¶ä¸­Nä¸ºè¯æ±‡è¡¨ä¸­å•è¯çš„æ€»æ•°ã€‚</p>
<p><strong>æ˜ å°„å±‚</strong>(åˆç§°<strong>éšå«å±‚</strong>)ä¸­,Kä¸ªéšå«å•å…ƒ(Hidden units)çš„å–å€¼å¯ä»¥ç”±Nç»´è¾“å…¥å‘é‡ä»¥åŠè¿æ¥è¾“å…¥å’Œéšå«å•å…ƒä¹‹é—´çš„NxKç»´æƒé‡çŸ©é˜µè®¡ç®—å¾—åˆ°ã€‚åœ¨CBOWä¸­,è¿˜éœ€è¦å°†å„ä¸ªè¾“å…¥è¯æ‰€è®¡ç®—å‡ºçš„éšå«å•å…ƒæ±‚å’Œã€‚</p>
<p>åŒç†,è¾“å‡ºå±‚å‘é‡çš„å€¼å¯ä»¥é€šè¿‡éšå«å±‚å‘é‡(Kç»´),ä»¥åŠè¿æ¥éšå«å±‚å’Œè¾“å‡ºå±‚ä¹‹é—´çš„KxNç»´æƒé‡çŸ©é˜µè®¡ç®—å¾—åˆ°ã€‚è¾“å‡ºå±‚ä¹Ÿæ˜¯ä¸€ä¸ªNç»´å‘é‡,æ¯ç»´ä¸è¯æ±‡è¡¨ä¸­çš„ä¸ªå•è¯ç›¸å¯¹åº”ã€‚æœ€å,å¯¹è¾“å‡ºå±‚å‘é‡åº”ç”¨ Softmaxæ¿€æ´»å‡½æ•°,å¯ä»¥è®¡ç®—å‡ºæ¯ä¸ªå•è¯çš„ç”Ÿæˆæ¦‚ç‡ã€‚ Softmaxæ¿€æ´»å‡½æ•°çš„å®šä¹‰ä¸º<br><img src="/img/media/%E7%99%BE%E9%9D%A2%20%20%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-04%20%E4%B8%8B%E5%8D%887.34.02.png" alt=""><br>å…¶ä¸­xä»£è¡¨Nç»´çš„åŸå§‹è¾“å‡ºå‘é‡,xnä¸ºåœ¨åŸå§‹è¾“å‡ºå‘é‡ä¸­,ä¸å•è¯wnæ‰€å¯¹åº”ç»´åº¦çš„å–å€¼ã€‚</p>
<p>æ¥ä¸‹æ¥çš„ä»»åŠ¡å°±æ˜¯è®­ç»ƒç¥ç»ç½‘ç»œçš„æƒé‡,ä½¿å¾—è¯­æ–™åº“ä¸­æ‰€æœ‰å•è¯çš„æ•´ä½“ç”Ÿæˆæ¦‚ç‡æœ€å¤§åŒ–ã€‚ä»è¾“å…¥å±‚åˆ°éšå«å±‚éœ€è¦ä¸€ä¸ªç»´åº¦ä¸ºNxKçš„æƒé‡çŸ©é˜µ,ä»éšå«å±‚åˆ°è¾“å‡ºå±‚åˆéœ€è¦ä¸€ä¸ªç»´åº¦ä¸ºKxNçš„æƒé‡çŸ©é˜µ,å­¦ä¹ æƒé‡å¯ä»¥ç”¨åå‘ä¼ æ’­ç®—æ³•å®ç°,æ¯æ¬¡è¿­ä»£æ—¶å°†æƒé‡æ²¿æ¢¯åº¦æ›´ä¼˜çš„æ–¹å‘è¿›è¡Œä¸€å°æ­¥æ›´æ–°ã€‚ä½†æ˜¯ç”±äºSoftmaxæ¿€æ´»å‡½æ•°ä¸­å­˜åœ¨å½’ä¸€åŒ–é¡¹çš„ç¼˜æ•…,æ¨å¯¼å‡ºæ¥çš„è¿­ä»£å…¬å¼éœ€è¦å¯¹è¯æ±‡è¡¨ä¸­çš„æ‰€æœ‰å•è¯è¿›è¡Œéå†,ä½¿å¾—æ¯æ¬¡è¿­ä»£è¿‡ç¨‹éå¸¸ç¼“æ…¢,ç”±æ­¤äº§ç”Ÿäº†<strong>Hierarchical Softmax</strong>å’Œ<strong>Negative Sampling</strong>ä¸¤ç§æ”¹è¿›æ–¹æ³•ã€‚</p>
<p>è°ˆåˆ°word2Vecä¸LDAçš„åŒºåˆ«å’Œè”ç³»,é¦–å…ˆ,LDAæ˜¯åˆ©ç”¨æ–‡æ¡£ä¸­å•è¯çš„å…±ç°å…³ç³»æ¥å¯¹å•è¯æŒ‰ä¸»é¢˜èšç±»,ä¹Ÿå¯ä»¥ç†è§£ä¸ºå¯¹â€œæ–‡æ¡£-å•è¯â€çŸ©é˜µè¿›è¡Œåˆ†è§£,å¾—åˆ°â€œæ–‡æ¡£ä¸»é¢˜â€å’Œâ€œä¸»é¢˜-å•è¯â€ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒã€‚è€ŒWord2vecå…¶å®æ˜¯å¯¹â€œä¸Šä¸‹æ–‡å•è¯çŸ©é˜µè¿›è¡Œ å­¦ä¹ ,å…¶ä¸­ä¸Šä¸‹æ–‡ç”±å‘¨å›´çš„å‡ ä¸ªå•è¯ç»„æˆ,ç”±æ­¤å¾—åˆ°çš„è¯å‘é‡è¡¨ç¤ºæ›´å¤šåœ°èå…¥äº†ä¸Šä¸‹æ–‡å…±ç°çš„ç‰¹å¾ã€‚ä¹Ÿå°±æ˜¯è¯´,å¦‚æœä¸¤ä¸ªå•è¯æ‰€å¯¹åº”çš„Word2Vecå‘é‡ç›¸ä¼¼åº¦è¾ƒ      é«˜,é‚£ä¹ˆå®ƒä»¬å¾ˆå¯èƒ½ç»å¸¸åœ¨åŒæ ·çš„ä¸Šä¸‹æ–‡ä¸­å‡ºç°ã€‚éœ€è¦è¯´æ˜çš„æ˜¯,ä¸Šè¿°åˆ†æçš„æ˜¯ LDAä¸Word2veCçš„ä¸åŒ,ä¸åº”è¯¥ä½œä¸ºä¸»é¢˜æ¨¡å‹å’Œè¯åµŒå…¥ä¸¤ç±»æ–¹æ³•çš„ä¸»è¦å·®å¼‚ã€‚ä¸»é¢˜æ¨¡å‹é€šè¿‡ä¸€å®šçš„ç»“æ„è°ƒæ•´å¯ä»¥åŸºäºâ€œä¸Šä¸‹æ–‡-å•è¯â€çŸ©é˜µè¿›è¡Œä¸»é¢˜æ¨ç†ã€‚åŒæ ·åœ°,  è¯åµŒå…¥æ–¹æ³•ä¹Ÿå¯ä»¥æ ¹æ®â€œæ–‡æ¡£-å•è¯â€çŸ©é˜µå­¦ä¹ å‡ºè¯çš„éšå«å‘é‡è¡¨ç¤ºã€‚ä¸»é¢˜æ¨¡å‹å’Œè¯åµŒå…¥ä¸¤ç±»æ–¹æ³•æœ€å¤§çš„ä¸åŒå…¶å®åœ¨äºæ¨¡å‹æœ¬èº«,ä¸»é¢˜æ¨¡å‹æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡å›¾æ¨¡å‹çš„ç”Ÿæˆå¼æ¨¡å‹,å…¶ä¼¼ç„¶å‡½æ•°å¯ä»¥å†™æˆè‹¥å¹²æ¡ä»¶æ¦‚ç‡è¿ä¹˜çš„å½¢å¼,å…¶ä¸­åŒ…æ‹¬éœ€è¦æ¨æµ‹çš„éšå«å˜é‡(å³ä¸»é¢˜);è€Œè¯åµŒå…¥æ¨¡å‹ä¸€èˆ¬è¡¨è¾¾ä¸ºç¥ç»ç½‘ç»œçš„å½¢å¼,ä¼¼ç„¶å‡½æ•°å®šä¹‰åœ¨ç½‘ç»œçš„è¾“å‡ºä¹‹ä¸Š,éœ€è¦é€šè¿‡å­¦ä¹ ç½‘ç»œçš„æƒé‡ä»¥å¾—åˆ°å•è¯çš„ç¨ å¯†å‘é‡è¡¨ç¤ºã€‚</p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/zdkswd/2019/04/04/Happy Birthday to ZDKâ€™s BlogğŸğŸğŸ/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZDK"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZDK's blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/04/Happy Birthday to ZDKâ€™s BlogğŸğŸğŸ/" class="post-title-link" itemprop="url">Happy Birthday to ZDKâ€™s BlogğŸğŸğŸ</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-04 14:23:32 / ä¿®æ”¹æ—¶é—´ï¼š14:23:58" itemprop="dateCreated datePublished" datetime="2019-04-04T14:23:32+08:00">2019-04-04</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/ä¸ªäººæ€»ç»“/" itemprop="url" rel="index"><span itemprop="name">ä¸ªäººæ€»ç»“</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/04/04/Happy Birthday to ZDKâ€™s BlogğŸğŸğŸ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/04/Happy Birthday to ZDKâ€™s BlogğŸğŸğŸ/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2019/04/04/Happy Birthday to ZDKâ€™s BlogğŸğŸğŸ/" class="post-meta-item leancloud_visitors" data-flag-title="Happy Birthday to ZDKâ€™s BlogğŸğŸğŸ">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          

          <br/>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å»å¹´çš„ä»Šå¤©ï¼ŒZDKçš„blogè¯ç”Ÿäº†ã€‚</p>
<p>å»ºç«‹è¿™ä¸ªåšå®¢çš„åˆè¡·åœ¨äºå½“åšä¸€ä¸ªè‡ªå·±çš„è¯»ä¹¦ç¬”è®°ï¼Œåœ¨çº¿å…è´¹äº‘ç¬”è®°ã€‚åˆšå¼€å§‹æ—¶æ˜¯å®Œå…¨æŠŠå¤§éƒ¨åˆ†çš„å†…å®¹ç…§æ¬ä¸‹æ¥ï¼ŒåŸºæœ¬ä¸Šæ˜¯è¯»åˆ°äº†ä»€ä¹ˆä¸œè¥¿å°±å†™ä¸‹æ¥ä»€ä¹ˆä¸œè¥¿ã€‚åŸºæœ¬ä¸Šè¿™ä¸ªé˜¶æ®µä¸»è¦å°±æ˜¯ä½“åŠ›åŠ³åŠ¨ã€‚æ­¤æ—¶åšå®¢çš„ç”¨å¤„åœ¨äºï¼Œå½“æˆ‘çœ‹åˆ°ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿æ—¶ï¼Œæˆ‘ä¼šæƒ³èµ·æ¥ï¼Œæˆ‘å¥½åƒä»¥å‰åœ¨åšå®¢ä¸­è®°å½•è¿‡è¿™ä¸ªä¸œè¥¿ï¼Œç„¶åæ‰“å¼€æˆ‘çš„åšå®¢æŸ¥çœ‹ç›¸å…³çš„å†…å®¹æ¥åŠ æ·±å°è±¡ã€‚è¿™ä¸ªé˜¶æ®µæˆ‘çš„çŸ¥è¯†å‚¨å¤‡è¿˜ä¸å¤Ÿå¤šï¼Œæ‰€ä»¥å¤„äºçŸ¥è¯†ç§¯ç´¯çš„é˜¶æ®µã€‚æ‰€ä»¥è¯´åšå®¢è¿™ä¸ªæ—¶å€™æ›´åƒæ˜¯ä¸€ä¸ªå¤‡å¿˜å½•ï¼Œä»€ä¹ˆçŸ¥è¯†ç‚¹è®°å¾—ä¸å¤ªæ¸…äº†ï¼Œå¯ä»¥ç¿»ç¿»åšå®¢åŠ æ·±è®°å¿†ã€‚</p>
<p>åæ¥ï¼Œæˆ‘åœ¨ã€Šè®¤çŸ¥å¤©æ€§ã€‹è¿™æœ¬ä¹¦ä¸­æ‰¾åˆ°äº†ç§‘å­¦çš„è§£é‡Šï¼Œæœ€é€‚åˆäººç±»å¤§è„‘ä¹ æ€§çš„å­¦ä¹ æ–¹æ³•åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š<strong>ç¼–ç ï¼Œå·©å›ºå’Œæ£€ç´¢</strong>ã€‚ä½¿ç”¨åšå®¢æ¥è¿›è¡ŒçŸ¥è¯†çš„ç§¯ç´¯è²Œä¼¼æ­£å¥½ç¬¦åˆè¿™å‡ ä¸ªé˜¶æ®µã€‚ç¬¬ä¸€ä¸ªé˜¶æ®µæˆ‘å°†åšå®¢å½“åšæˆ‘å¤§è„‘çš„å¤–å­˜ï¼Œæˆ‘çš„å¤§è„‘åªéœ€è®°å¿†çŸ¥è¯†çš„ç´¢å¼•ï¼Œåœ¨éœ€è¦ä½¿ç”¨æ—¶ï¼Œè¿…é€Ÿä»å¤–å­˜ä¸­è°ƒå…¥æˆ‘çš„å¤§è„‘ã€‚éšç€è°ƒå…¥æ¬¡æ•°çš„å¢å¤šä»¥åŠçŸ¥è¯†ä½“ç³»çš„é€æ¸å»ºç«‹ï¼Œæˆ‘å¯¹ç‰¹å®šçŸ¥è¯†çš„å°è±¡ä¹Ÿæ›´æ·±ï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿä¼šåœ¨ä¸åŒæ—¶æœŸæœ‰ç€æ–°çš„ç†è§£ã€‚çŸ¥è¯†æ…¢æ…¢åœ°å¼€å§‹å¯ä»¥ä¸²è”èµ·æ¥ã€‚è€Œè¿™ä¸ªæ—¶å€™ï¼Œåœ¨çœ‹åˆ°å¾ˆå¤šçŸ¥è¯†ç‚¹æ—¶ï¼Œå°±ä¼šæœ‰æ–°çš„ç–‘é—®ï¼Œå³ä¸ºæ£€ç´¢é—®é¢˜é˜¶æ®µã€‚éšç€å¯¹é—®é¢˜çš„è§£å†³ä»¥åŠæ€»ç»“ï¼Œæ…¢æ…¢å‘ç°è‡ªå·±å¯¹äºçŸ¥è¯†ç‚¹çš„ç†è§£æ›´åŠ æ·±å…¥äº†ã€‚å–„ç”¨æ£€ç´¢ï¼Œå³é—®é¢˜å¯¼å‘ã€‚è€Œå‘ç°é—®é¢˜æ›´å¥½çš„é€”å¾„æ˜¯å¯¹æ¯”çŸ¥è¯†ç‚¹ï¼Œä»¥åŠçœŸå®åœºæ™¯ã€‚</p>
<p>éšç€ä¸æ–­çš„å­¦ä¹ ï¼Œè¶Šæ¥è¶Šå‘ç°å‚è€ƒä¸€æœ¬ä¹¦æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªé˜¶æ®µï¼Œè¿™ä¸ªåšå®¢å¼€å§‹å‡ºç°äº†é’ˆå¯¹æŸä¸ªé—®é¢˜çš„æ€»ç»“ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œéœ€è¦ç¿»é˜…å¤šæ ·å‚è€ƒæ–‡çŒ®æ¥é’ˆå¯¹ç‰¹å®šçš„é—®é¢˜ä½œå‡ºæ€»ç»“ï¼Œæ…¢æ…¢åœ°ï¼Œæˆ‘å‘ç°ï¼Œè¿™ä¸ªé˜¶æ®µå¤§é‡çš„ä¸œè¥¿æ€»ç»“å‘ç”Ÿåœ¨çº¸ä¸Šï¼ŒçœŸæ­£åˆ°åšå®¢ä¸­çš„å¯èƒ½æ˜¯ç»è¿‡æ€»ç»“åçš„ã€‚çº¸ä¸Šæ€»ç»“æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯ä¸ç”¨é¼ æ ‡çš„æ»šè½®ï¼Œåœ¨ä¸€ä¸ªé¡µé¢ä¸­å³å¯æ„å»ºçŸ¥è¯†çš„ç½‘ç»œç»“æ„ã€‚ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œè¦æ›´å¤šçš„æ€è€ƒé—®é¢˜ï¼Œæ›´å¤šçš„è¾“å‡ºæ€»ç»“ã€‚å½¢æˆè‡ªå·±çš„çŸ¥è¯†è¡¨å¾ã€‚<br><img src="/img/media/Happy%20Birthday%20to%20ZDK%E2%80%99s%20Blog%F0%9F%8E%81%F0%9F%8E%81%F0%9F%8E%81/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-04-04%20%E4%B8%8B%E5%8D%8812.10.28.png" alt=""></p>
<p><strong>ä¸»é¢˜é˜…è¯»</strong><br><strong>é—®é¢˜å¯¼å‘</strong><br><strong>çœŸå®åœºæ™¯</strong><br><strong>åˆ»æ„ç»ƒä¹ </strong></p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.gif"
                alt="ZDK"/>
            
              <p class="site-author-name" itemprop="name">ZDK</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">191</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">48</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/zdkswd" title="GitHub &rarr; https://github.com/zdkswd"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:2822464407@qq.com" title="E-Mail &rarr; mailto:2822464407@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://github.com/zdkswd" title="https://github.com/zdkswd">Title</a>
                  </li>
                
              </ul>
            </div>
          

          
        </div>
      </div>

      

      
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZDK</span>

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.2.0</div>




        








        
      </div>
    </footer>

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  
  













  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>




  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/affix.js?v=7.2.0"></script>

  <script src="/js/schemes/pisces.js?v=7.2.0"></script>




  

  <script src="/js/next-boot.js?v=7.2.0"></script>

  

  

  

  

  
  

<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: true,
    appId: 'QiU7UFIdgTTauFTk89N47mQS-gzGzoHsz',
    appKey: 'gkBx5soQkBREmER84PWbNJeM',
    placeholder: 'have fun',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: true,
    lang: '' || 'zh-cn'
  });
</script>





  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('5');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  


  

</body>
</html>
